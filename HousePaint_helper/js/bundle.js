var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameUI":3}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var Maze_1 = require("./Maze");
var MazeGenerator = /** @class */ (function (_super) {
    __extends(MazeGenerator, _super);
    function MazeGenerator() {
        var _this = _super.call(this) || this;
        // 迷宫节点
        _this.mazeSprite = new Array();
        // 迷宫单元图片尺寸
        _this.unitWidth = 30;
        // 迷宫参数
        _this.width = 7;
        _this.height = 7;
        _this.diff = 5;
        _this.maxTryTimes = 100000;
        // 图片路径
        _this.url_player = "res/player.png";
        _this.url_empty = "res/empty.png";
        _this.url_wall = "res/wall.png";
        _this.url_passed = "res/passed.png";
        // 障碍物资源列表组
        _this.barriersComboBox = new Array();
        // 障碍物标识列表
        _this.barriersList = ["Bush_11", "Sponge", "ElecBox_11", "Mail_11", "Plate_11", "Pod_11", "Pod_21", "Went_11", "Wall_Wo_Hor", "Wall_Wo_Ver", "Brick_Hor_1", "Wall_Wo_Ver", "Brick_Hor_2", "Brick_Ver_1", "Wall_Hor_1", "Wall_Hor_2", "Wall_Hor_3", "Wall_Bot_B_1", "Wall_Bot_W_1", "Wall_Bot_W_2", "Window_11", "Window_12", "Window_21", "Window_22", "Window_23", "Window_C11", "Window_C12", "Window_C21", "Window_C22", "Window_C23", "Window_G11", "Window_G12", "Window_G21", "Window_G22", "Window_G23", "Window_B11", "Window_B12", "Window_B21", "Window_B22", "Window_B23", "Window_W11", "Window_W12", "Window_W21", "Window_W22", "Window_W23", "Door_24", "Door_G24", "Door_B24", "Door_C24", "Door_W24"];
        _this.barriersNum = 48;
        // 初始化场景
        _this.initScene();
        // 键盘操作监听
        _this.keyboardListen();
        return _this;
    }
    // 初始化场景
    MazeGenerator.prototype.initScene = function () {
        //添加场景
        var scene = Laya.stage.addChild(new Laya.Scene());
        Laya.stage.bgColor = "#d5d7f4";
        Laya.stage.width = 1000;
        Laya.stage.height = 1000;
        //添加迷宫盒
        // this.mazeBox = scene.addChild(new Laya.Sprite()) as Laya.Sprite;
        this.mazeBox.x = 100;
        this.mazeBox.y = 100;
    };
    // 迷宫生成
    MazeGenerator.prototype.generateMaze = function () {
        // 设置迷宫参数
        this.unitWidth = (this.stage.width - this.mazeBox.x * 2) / this.width;
        this.unitWidth = this.unitWidth > 100 ? 100 : this.unitWidth;
        // 生成迷宫矩阵
        this.maze = new Maze_1.default(this.width, this.height, this.diff);
        var x = Math.floor(Math.random() * this.width);
        var y = Math.floor(Math.random() * this.height);
        var tryTimes = 0;
        console.log("Maze generating...");
        while (!this.maze.generate(x, y) && tryTimes < this.maxTryTimes) {
            x = Math.floor(Math.random() * this.width);
            y = Math.floor(Math.random() * this.height);
            tryTimes++;
        }
        if (tryTimes >= this.maxTryTimes) {
            console.log("Failed. Try again");
            return;
        }
        console.log("Done. Try times: " + tryTimes);
        this.outMaze = this.maze.getMaze();
        // 渲染迷宫及玩家
        this.renderMaze();
    };
    // 渲染迷宫及玩家
    MazeGenerator.prototype.renderMaze = function () {
        var _this = this;
        this.mazeBox.visible = true;
        var barriersLabel = "";
        var flag = false;
        for (var _i = 0, _a = this.barriersList; _i < _a.length; _i++) {
            var item = _a[_i];
            if (flag) {
                barriersLabel += ",";
            }
            flag = true;
            barriersLabel += item;
        }
        // 渲染迷宫
        this.mazeSprite = new Array();
        var _loop_1 = function (i) {
            this_1.mazeSprite.push(new Array());
            this_1.barriersComboBox.push(new Array());
            var _loop_2 = function (j) {
                var unit = new Laya.Sprite();
                unit.texture = new Laya.Texture();
                this_1.mazeBox.addChild(unit);
                if (this_1.outMaze[i][j]) {
                    unit.texture.load(this_1.url_wall);
                }
                else {
                    unit.texture.load(this_1.url_empty);
                }
                unit.texture.height = this_1.unitWidth;
                unit.width = this_1.unitWidth;
                unit.height = this_1.unitWidth;
                unit.x = i * this_1.unitWidth;
                unit.y = j * this_1.unitWidth;
                this_1.mazeSprite[i].push(unit);
                // 资源下拉表
                var comboBox = new Laya.ComboBox("comp/combobox.png", barriersLabel);
                comboBox.width = this_1.unitWidth;
                comboBox.height = this_1.unitWidth / 4;
                comboBox.x = (i + 1) * this_1.unitWidth - comboBox.width;
                comboBox.y = j * this_1.unitWidth;
                comboBox.zOrder = 1;
                comboBox.visibleNum = 20;
                comboBox.visible = false;
                // 下拉列表内滚动条
                comboBox.scrollBarSkin = "comp/vscroll.png";
                comboBox.scrollBar.scaleX /= 2;
                this_1.mazeBox.addChild(comboBox);
                this_1.barriersComboBox[i].push(comboBox);
                // 鼠标监听
                this_1.mazeSprite[i][j].on(Laya.Event.MOUSE_UP, this_1, function () {
                    _this.posLabel.changeText("坐标: (" + i + "," + j + ")");
                    if (_this.outMaze[i][j]) {
                        _this.barriersComboBox[i][j].visible = true;
                        var urlString = _this.barriersComboBox[i][j].selectedLabel;
                        if (urlString) {
                            urlString = "res/barriers_texture/" + urlString + ".png";
                            _this.mazeSprite[i][j].texture.load(urlString);
                            _this.barriersComboBox[i][j].visible = false;
                        }
                    }
                });
            };
            for (var j = 0; j < this_1.height; j++) {
                _loop_2(j);
            }
        };
        var this_1 = this;
        // 初始化迷宫单元
        for (var i = 0; i < this.width; i++) {
            _loop_1(i);
        }
        // 渲染玩家
        this.player = new Laya.Sprite();
        this.player.width = this.unitWidth;
        this.player.height = this.unitWidth;
        this.player.texture = new Laya.Texture();
        this.player.texture.load(this.url_player);
        this.player.x = this.maze.startX * this.unitWidth;
        this.player.y = this.maze.startY * this.unitWidth;
        this.mazeBox.addChild(this.player);
        // 玩家位置记录
        this.idx_x = this.maze.startX;
        this.idx_y = this.maze.startY;
        // 玩家所在位置涂色
        this.mazeSprite[this.idx_x][this.idx_y].texture.load(this.url_passed);
    };
    // 键盘操作监听
    MazeGenerator.prototype.keyboardListen = function () {
        var _this = this;
        // 键盘按下处理
        Laya.stage.on(Laya.Event.KEY_DOWN, this, function (e) {
            // left
            if (e["keyCode"] === 37) {
                while (_this.idx_x > 0 && !_this.outMaze[_this.idx_x - 1][_this.idx_y]) {
                    _this.idx_x--;
                    // 改变玩家位置
                    _this.player.x -= _this.unitWidth;
                    // 玩家位置涂色
                    if (_this.mazeSprite[_this.idx_x][_this.idx_y].texture.url != _this.url_passed) {
                        _this.mazeSprite[_this.idx_x][_this.idx_y].texture.load(_this.url_passed);
                    }
                }
            }
            // up
            else if (e["keyCode"] === 38) {
                while (_this.idx_y > 0 && !_this.outMaze[_this.idx_x][_this.idx_y - 1]) {
                    _this.idx_y--;
                    // 改变玩家位置
                    _this.player.y -= _this.unitWidth;
                    // 玩家位置涂色
                    if (_this.mazeSprite[_this.idx_x][_this.idx_y].texture.url != _this.url_passed) {
                        _this.mazeSprite[_this.idx_x][_this.idx_y].texture.load(_this.url_passed);
                    }
                }
            }
            // right
            else if (e["keyCode"] === 39) {
                while (_this.idx_x < _this.width - 1 && !_this.outMaze[_this.idx_x + 1][_this.idx_y]) {
                    _this.idx_x++;
                    // 改变玩家位置
                    _this.player.x += _this.unitWidth;
                    // 玩家位置涂色
                    if (_this.mazeSprite[_this.idx_x][_this.idx_y].texture.url != _this.url_passed) {
                        _this.mazeSprite[_this.idx_x][_this.idx_y].texture.load(_this.url_passed);
                    }
                }
            }
            // down
            else if (e["keyCode"] === 40) {
                while (_this.idx_y < _this.height - 1 && !_this.outMaze[_this.idx_x][_this.idx_y + 1]) {
                    _this.idx_y++;
                    // 改变玩家位置
                    _this.player.y += _this.unitWidth;
                    // 玩家位置涂色
                    if (_this.mazeSprite[_this.idx_x][_this.idx_y].texture.url != _this.url_passed) {
                        _this.mazeSprite[_this.idx_x][_this.idx_y].texture.load(_this.url_passed);
                    }
                }
            }
            // restart
            else if (e["keyCode"] === 82) {
                // 重置迷宫单元
                for (var i = 0; i < _this.width; i++) {
                    for (var j = 0; j < _this.height; j++) {
                        if (!_this.outMaze[i][j]) {
                            if (_this.mazeSprite[i][j].texture.url != _this.url_empty) {
                                _this.mazeSprite[i][j].texture.load(_this.url_empty);
                            }
                        }
                    }
                }
                // 重置玩家
                _this.idx_x = _this.maze.startX;
                _this.idx_y = _this.maze.startY;
                _this.player.x = _this.idx_x * _this.unitWidth;
                _this.player.y = _this.idx_y * _this.unitWidth;
                _this.mazeSprite[_this.idx_x][_this.idx_y].texture.load(_this.url_passed);
            }
            // generate maze
            else if (e["keyCode"] === 71) {
                if (!_this.widthInput.text || !_this.heightInput.text || !_this.diffInput.text) {
                    return;
                }
                _this.maxTryTimes = 1000000;
                if (_this.trytimesInput.text) {
                    _this.maxTryTimes *= (+_this.trytimesInput.text);
                }
                _this.width = +_this.widthInput.text;
                _this.height = +_this.heightInput.text;
                _this.diff = +_this.diffInput.text;
                _this.generateMaze();
            }
            // print data
            else if (e["keyCode"] === 80) {
                _this.print();
            }
        });
    };
    // 输出迷宫数据
    MazeGenerator.prototype.print = function () {
        var data = "Maze msg: {";
        data += "w:" + this.width + ", h:" + this.height + ", ";
        var flag = false;
        data += "barriersArr:[";
        for (var i = 0; i < this.width; i++) {
            for (var j = 0; j < this.height; j++) {
                if (this.outMaze[i][j]) {
                    if (flag) {
                        data += ", ";
                    }
                    flag = true;
                    data += "\"" + i + "," + j + "," + this.barriersComboBox[i][j].selectedLabel + "\"";
                }
            }
        }
        data += "], ";
        data += "player_pos:\"" + this.maze.startX + "," + this.maze.startY + "\"";
        data += "}";
        console.log(data);
    };
    return MazeGenerator;
}(layaMaxUI_1.ui.test.TestSceneUI));
exports.default = MazeGenerator;
},{"./../ui/layaMaxUI":5,"./Maze":4}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Maze = /** @class */ (function () {
    function Maze(width, height, minCount) {
        /** 记录迷宫状态，每个单元格状态有 empty, wall, undefined 三种 */
        this.maze = new Array();
        /** 输出迷宫矩阵, 每个单元格两种状态: true 为墙, false 为空 */
        this.outMaze = new Array();
        /** 迷宫解法路径 */
        this.solution = [];
        /** 最小未定义单元格数, 用于结束迷宫生成，结束时未定义皆填补为墙, 数值体现难度 */
        this.minCount = 3;
        /** 无效 randomMove 计数 */
        this.unchangeCnt = 0;
        this.maxUnchangeCnt = 3;
        /** 空单元格数 */
        this.emptyCnt = 0;
        /** 重要墙单元格数 */
        this.wallCnt = 0;
        /** 检验模式计数 */
        this.checkCnt = 0;
        this.maxUnchangeCntCheck = 100;
        this.width = width;
        this.height = height;
        this.count = width * height;
        this.minCount = minCount;
        // 生成初始迷宫
        for (var x = 0; x < this.width; x++) {
            this.maze.push(new Array());
            this.outMaze.push(new Array());
            for (var y = 0; y < this.height; y++) {
                this.maze[x].push("undefined");
                this.outMaze[x].push(true);
            }
        }
    }
    /** 重置并随机生成新迷宫
     *  Input - 起点坐标(x,y)
     *  Output - 生成状态：生成成功为 true
     * */
    Maze.prototype.generate = function (x, y) {
        // 记录起点
        this.startX = x;
        this.startY = y;
        // 重置迷宫所有单元格状态
        for (var i = 0; i < this.width; i++) {
            for (var j = 0; j < this.height; j++) {
                this.maze[i][j] = "undefined";
                this.outMaze[i][j] = true;
            }
        }
        // 重置计数器
        this.count = this.width * this.height;
        this.emptyCnt = 0;
        // 设置当前位置为空
        if (this.setState(x, y, "empty")) {
            return true;
        }
        // 递归随机行走
        if (this.randomMove(x, y, this.count, false)) {
            for (var i = 0; i < this.width; i++) {
                for (var j = 0; j < this.height; j++) {
                    if (this.maze[i][j] === "empty") {
                        this.outMaze[i][j] = false;
                    }
                }
            }
            // 检验地图难度，使得玩家前几步骤操作有高容错率
            if (this.check()) {
                return true;
            }
        }
        return false;
    };
    /** 随机选择方向生成路径
     *  Input - 起点坐标(x,y)
     *          验证模式标记: true 为验证模式
     *  Output - 生成状态：成功为 true
     * */
    Maze.prototype.randomMove = function (x, y, preCount, isCheck) {
        if (isCheck === void 0) { isCheck = false; }
        // 判断四个方向是否可达
        var directionList = [];
        if (x > 0 && this.maze[x - 1][y] !== "wall") {
            if (this.solution && !(this.solution[this.solution.length - 1] === "right" && this.solution[this.solution.length - 2] === "left"))
                directionList.push("left");
        }
        if (x < this.width - 1 && this.maze[x + 1][y] !== "wall") {
            if (this.solution && !(this.solution[this.solution.length - 1] === "left" && this.solution[this.solution.length - 2] === "right"))
                directionList.push("right");
        }
        if (y > 0 && this.maze[x][y - 1] !== "wall") {
            if (this.solution && !(this.solution[this.solution.length - 1] === "down" && this.solution[this.solution.length - 2] === "up"))
                directionList.push("up");
        }
        if (y < this.height - 1 && this.maze[x][y + 1] !== "wall") {
            if (this.solution && !(this.solution[this.solution.length - 1] === "up" && this.solution[this.solution.length - 2] === "down"))
                directionList.push("down");
        }
        // 若四面皆为墙，则生成失败，该情况理应不存在
        if (!directionList) {
            return false;
        }
        // 随机选择方向
        var direction = directionList[Math.floor(Math.random() * directionList.length)];
        // 记录
        this.solution.push(direction);
        if (direction === "left") {
            // 最大可达路径长度: 本位置出发最长连续无墙单元格数
            var maxPathLength = 1;
            while (x - maxPathLength > 0 && this.maze[x - maxPathLength - 1][y] !== "wall") {
                maxPathLength++;
            }
            // 最小可达路径长度: 本位置出发最长连续空单元格数
            var minPathLength = 1;
            while (x - minPathLength > 0 && this.maze[x - minPathLength - 1][y] === "empty") {
                minPathLength++;
            }
            // 随机选择路径长度
            var pathLength = Math.ceil(Math.random() * (maxPathLength - minPathLength) + minPathLength);
            // 修正路径，末端不能为空
            while (x - pathLength - 1 >= 0 && this.maze[x - pathLength - 1][y] === "empty") {
                pathLength--;
            }
            // 验证模式额外处理
            pathLength = isCheck ? maxPathLength : pathLength;
            // 设置路径上单元格为空
            for (var i = 1; i <= pathLength; i++) {
                x--;
                if (this.setState(x, y, "empty", isCheck)) {
                    return true;
                }
            }
            // 设置路径末端(已不可能为空)为墙
            if (x > 0) {
                if (this.setState(x - 1, y, "wall", isCheck)) {
                    return true;
                }
            }
        }
        else if (direction === "right") {
            // 最大可达路径长度: 本位置出发最长连续无墙单元格数
            var maxPathLength = 1;
            while (x + maxPathLength < this.width - 1 && this.maze[x + maxPathLength + 1][y] !== "wall") {
                maxPathLength++;
            }
            // 最小可达路径长度: 本位置出发最长连续空单元格数
            var minPathLength = 1;
            while (x + minPathLength < this.width - 1 && this.maze[x + minPathLength + 1][y] === "empty") {
                minPathLength++;
            }
            // 随机选择路径长度
            var pathLength = Math.ceil(Math.random() * (maxPathLength - minPathLength) + minPathLength);
            // 修正路径，末端不能为空
            while (x + pathLength + 1 < this.width && this.maze[x + pathLength + 1][y] === "empty") {
                pathLength--;
            }
            // 验证模式额外处理
            pathLength = isCheck ? maxPathLength : pathLength;
            // 设置路径上单元格为空
            for (var i = 1; i <= pathLength; i++) {
                x++;
                if (this.setState(x, y, "empty", isCheck)) {
                    return true;
                }
            }
            // 设置路径末端(已不可能为空)为墙
            if (x < this.width - 1) {
                if (this.setState(x + 1, y, "wall", isCheck)) {
                    return true;
                }
            }
        }
        else if (direction === "up") {
            // 最大可达路径长度: 本位置出发最长连续无墙单元格数
            var maxPathLength = 1;
            while (y - maxPathLength > 0 && this.maze[x][y - maxPathLength - 1] !== "wall") {
                maxPathLength++;
            }
            // 最小可达路径长度: 本位置出发最长连续空单元格数
            var minPathLength = 1;
            while (y - minPathLength > 0 && this.maze[x][y - minPathLength - 1] === "empty") {
                minPathLength++;
            }
            // 随机选择路径长度
            var pathLength = Math.ceil(Math.random() * (maxPathLength - minPathLength) + minPathLength);
            // 修正路径，末端不能为空
            while (y - pathLength - 1 >= 0 && this.maze[x][y - pathLength - 1] === "empty") {
                pathLength--;
            }
            // 验证模式额外处理
            pathLength = isCheck ? maxPathLength : pathLength;
            // 设置路径上单元格为空
            for (var i = 1; i <= pathLength; i++) {
                y--;
                if (this.setState(x, y, "empty", isCheck)) {
                    return true;
                }
            }
            // 设置路径末端(已不可能为空)为墙
            if (y > 0) {
                if (this.setState(x, y - 1, "wall", isCheck)) {
                    return true;
                }
            }
        }
        else if (direction === "down") {
            // 最大可达路径长度: 本位置出发最长连续无墙单元格数
            var maxPathLength = 1;
            while (y + maxPathLength < this.height - 1 && this.maze[x][y + maxPathLength + 1] !== "wall") {
                maxPathLength++;
            }
            // 最小可达路径长度: 本位置出发最长连续空单元格数
            var minPathLength = 1;
            while (y + minPathLength < this.height - 1 && this.maze[x][y + minPathLength + 1] === "empty") {
                minPathLength++;
            }
            // 随机选择路径长度
            var pathLength = Math.ceil(Math.random() * (maxPathLength - minPathLength) + minPathLength);
            // 修正路径，末端不能为空
            while (y + pathLength + 1 < this.height && this.maze[x][y + pathLength + 1] === "empty") {
                pathLength--;
            }
            // 验证模式额外处理
            pathLength = isCheck ? maxPathLength : pathLength;
            // 设置路径上单元格为空
            for (var i = 1; i <= pathLength; i++) {
                y++;
                if (this.setState(x, y, "empty", isCheck)) {
                    return true;
                }
            }
            // 设置路径末端(已不可能为空)为墙
            if (y < this.height - 1) {
                if (this.setState(x, y + 1, "wall", isCheck)) {
                    return true;
                }
            }
        }
        // 生成模式
        if (!isCheck) {
            // 若计数无变化，判断生成路径重复，生成失败
            if (this.count === preCount) {
                this.unchangeCnt++;
                if (this.unchangeCnt >= this.maxUnchangeCnt) {
                    return false;
                }
            }
            else {
                this.unchangeCnt = 0;
            }
            // 递归：随机选择下一方向
            return this.randomMove(x, y, this.count);
        }
        // 检验模式
        else {
            // 若检验计数无变化
            if (this.checkCnt === preCount) {
                this.unchangeCnt++;
                if (this.unchangeCnt >= this.maxUnchangeCntCheck) {
                    return false;
                }
            }
            else {
                this.unchangeCnt = 0;
            }
            // 递归：随机选择下一方向
            return this.randomMove(x, y, this.checkCnt, true);
        }
    };
    /** 单元格状态赋值，并更新未定义计数
     *  Input - (x,y): 单元格坐标
     *          state: 单元格目标状态( empty, wall )
     *          验证模式标记: true 为验证模式
     *  Output - 迷宫生成结束标志：结束为 true
     * */
    Maze.prototype.setState = function (x, y, state, isCheck) {
        if (isCheck === void 0) { isCheck = false; }
        var preState = this.maze[x][y];
        // 检验模式
        if (isCheck) {
            if (preState === "empty") {
                this.maze[x][y] = "passed";
                this.checkCnt++;
                if (this.checkCnt === this.emptyCnt) {
                    // 迷宫检验结束，检验成功
                    return true;
                }
            }
            return false;
        }
        // 生成模式
        else {
            this.maze[x][y] = state;
            if (preState === "undefined") {
                this.count--;
                if (state === "empty") {
                    this.emptyCnt++;
                }
                else if (state === "wall") {
                    this.wallCnt++;
                }
                if (this.count <= this.minCount) {
                    // 迷宫生成结束，生成成功
                    return true;
                }
            }
            return false;
        }
    };
    /** 检验迷宫，目标使得玩家前几步骤操作有高容错率 */
    Maze.prototype.check = function () {
        // 起点
        var x;
        var y;
        // // 遍历每个空节点
        // for (let i: number = 0; i < this.width; i++) {
        //     for (let j: number = 0; j < this.height; j++) {
        //         if (!this.outMaze[i][j]) {
        //             // 尝试多次
        //             for (let times: number = 0; times < 3; times++) {
        //                 // 重置迷宫参数
        //                 this.resetCheck();
        //                 this.setState(i, j, "passed", true);
        //                 if (!this.randomMove(i, j, this.emptyCnt, true)) {
        //                     console.log("check failed.");
        //                     return false;
        //                 }
        //                 console.log("check seccessed.");
        //                 console.log("start: (" + i + "," + j + ")");
        //                 console.log(this.solution);
        //             }
        //         }
        //     }
        // }
        // // 验证成功
        // return true;
        // 遍历四个方向是否均可解
        for (var times = 0; times < 10; times++) {
            // left
            this.resetCheck();
            // 重置起点
            x = this.startX;
            y = this.startY;
            this.setState(x, y, "passed", true);
            while (x > 0 && this.maze[x - 1][y] === "empty") {
                x--;
                this.setState(x, y, "passed", true);
            }
            // 递归随机行走
            if (!this.randomMove(x, y, this.emptyCnt, true)) {
                // console.log("check left failed.");
                return false;
            }
            // right
            this.resetCheck();
            // 重置起点
            x = this.startX;
            y = this.startY;
            this.setState(x, y, "passed", true);
            while (x < this.width - 1 && this.maze[x + 1][y] === "empty") {
                x++;
                this.setState(x, y, "passed", true);
            }
            // 递归随机行走
            if (!this.randomMove(x, y, this.emptyCnt, true)) {
                // console.log("check right failed.");
                return false;
            }
            // up
            this.resetCheck();
            // 重置起点
            x = this.startX;
            y = this.startY;
            this.setState(x, y, "passed", true);
            while (y > 0 && this.maze[x][y - 1] === "empty") {
                y--;
                this.setState(x, y, "passed", true);
            }
            // 递归随机行走
            if (!this.randomMove(x, y, this.emptyCnt, true)) {
                // console.log("check up failed.");
                return false;
            }
            // down
            this.resetCheck();
            // 重置起点
            x = this.startX;
            y = this.startY;
            this.setState(x, y, "passed", true);
            while (y < this.height - 1 && this.maze[x][y + 1] === "empty") {
                y++;
                this.setState(x, y, "passed", true);
            }
            // 递归随机行走
            if (!this.randomMove(x, y, this.emptyCnt, true)) {
                // console.log("check down failed.");
                return false;
            }
            // console.log("check seccessed. times: " + times + "/9");
        }
        // 检验成功
        return true;
    };
    Maze.prototype.resetCheck = function () {
        // 重置计数
        this.checkCnt = 0;
        // 重置迷宫
        for (var i = 0; i < this.width; i++) {
            for (var j = 0; j < this.height; j++) {
                if (this.outMaze[i][j]) {
                    this.maze[i][j] = "wall";
                }
                else {
                    this.maze[i][j] = "empty";
                }
            }
        }
        // 重置解法
        this.solution = [];
    };
    /** 输出迷宫矩阵, 每个单元格两种状态: true 为墙, false 为空 */
    Maze.prototype.getMaze = function () {
        return this.outMaze;
    };
    return Maze;
}());
exports.default = Maze;
},{}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        var TestSceneUI = /** @class */ (function (_super) {
            __extends(TestSceneUI, _super);
            function TestSceneUI() {
                return _super.call(this) || this;
            }
            TestSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/TestScene");
            };
            return TestSceneUI;
        }(Scene));
        test.TestSceneUI = TestSceneUI;
        REG("ui.test.TestSceneUI", TestSceneUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkU6L0xheWFBaXJJREVfYmV0YS9yZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9HYW1lVUkudHMiLCJzcmMvc2NyaXB0L01hemUudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRywwQ0FBb0M7QUFDcEM7O0VBRUU7QUFDRjtJQWFJO0lBQWMsQ0FBQztJQUNSLGVBQUksR0FBWDtRQUNJLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQzdDLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxnQkFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQWhCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLFlBQVksQ0FBQztJQUM5QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLHNCQUFzQixDQUFDO0lBQ3RDLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsS0FBSyxDQUFDO0lBQ3BCLGVBQUksR0FBUyxLQUFLLENBQUM7SUFDbkIsdUJBQVksR0FBUyxLQUFLLENBQUM7SUFDM0IsNEJBQWlCLEdBQVMsSUFBSSxDQUFDO0lBTTFDLGlCQUFDO0NBbEJELEFBa0JDLElBQUE7a0JBbEJvQixVQUFVO0FBbUIvQixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7Ozs7QUN4QmxCLDJDQUFzQztBQUN0QztJQUNDO1FBQ0MsZ0JBQWdCO1FBQ2hC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QUFDLEtBQUssR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssTUFBTSxFQUFFO1lBQ3RELElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxNQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxPQUFPLENBQUM7Z0JBQ2pJLGFBQWEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDL0I7UUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssTUFBTSxFQUFFO1lBQ3pDLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxNQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUM7Z0JBQzlILGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDNUI7UUFDRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxNQUFNLEVBQUU7WUFDdkQsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxLQUFLLElB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QkFBTyxHQUFQO1FBQ0ksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3hCLENBQUM7SUFDTCxXQUFDO0FBQUQsQ0E3Y0EsQUE2Y0MsSUFBQTs7Ozs7QUMxY0QsSUFBTyxLQUFLLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztBQUN4QixJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztBQUM3QyxJQUFjLEVBQUUsQ0FlZjtBQWZELFdBQWMsRUFBRTtJQUFDLElBQUEsSUFBSSxDQWVwQjtJQWZnQixXQUFBLElBQUk7UUFDakI7WUFBaUMsK0JBQUs7WUFPbEM7dUJBQWUsaUJBQU87WUFBQSxDQUFDO1lBQ3ZCLG9DQUFjLEdBQWQ7Z0JBQ0ksaUJBQU0sY0FBYyxXQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNyQyxDQUFDO1lBQ0wsa0JBQUM7UUFBRCxDQVpBLEFBWUMsQ0FaZ0MsS0FBSyxHQVlyQztRQVpZLGdCQUFXLGNBWXZCLENBQUE7UUFDRCxHQUFHLENBQUMscUJBQXFCLEVBQUMsV0FBVyxDQUFDLENBQUM7SUFDM0MsQ0FBQyxFQWZnQixJQUFJLEdBQUosT0FBSSxLQUFKLE9BQUksUUFlcEI7QUFBRCxDQUFDLEVBZmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBZWYiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXHJcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vc2NyaXB0L0dhbWVVSVwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj02NDA7XHJcbiAgICBzdGF0aWMgaGVpZ2h0Om51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZHdpZHRoXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJub25lXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJ0ZXN0L1Rlc3RTY2VuZS5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVVSS50c1wiLEdhbWVVSSk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IE1hemUgZnJvbSBcIi4vTWF6ZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF6ZUdlbmVyYXRvciBleHRlbmRzIHVpLnRlc3QuVGVzdFNjZW5lVUkge1xyXG4gICAgcHJpdmF0ZSBjYW1lcmE6IExheWEuQ2FtZXJhO1xyXG5cclxuICAgIC8vIOi/t+Wuq1xyXG4gICAgcHJpdmF0ZSBtYXplOiBNYXplO1xyXG4gICAgLy8g6L+35a6r55+p6Zi1XHJcbiAgICBwcml2YXRlIG91dE1hemU6IEFycmF5PEFycmF5PGJvb2xlYW4+PjtcclxuICAgIC8vIOi/t+Wuq+iKgueCuVxyXG4gICAgcHJpdmF0ZSBtYXplU3ByaXRlOiBBcnJheTxBcnJheTxMYXlhLlNwcml0ZT4+ID0gbmV3IEFycmF5PEFycmF5PExheWEuU3ByaXRlPj4oKTtcclxuICAgIC8vIOi/t+Wuq+WNleWFg+WbvueJh+WwuuWvuFxyXG4gICAgcHJpdmF0ZSB1bml0V2lkdGg6IG51bWJlciA9IDMwO1xyXG4gICAgLy8g6L+35a6r5Y+C5pWwXHJcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlciA9IDc7XHJcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXIgPSA3O1xyXG4gICAgcHJpdmF0ZSBkaWZmOiBudW1iZXIgPSA1O1xyXG4gICAgcHJpdmF0ZSBtYXhUcnlUaW1lczogbnVtYmVyID0gMTAwMDAwO1xyXG5cclxuICAgIC8vIOeOqeWutuaooeWei1xyXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IExheWEuU3ByaXRlO1xyXG4gICAgLy8g546p5a625Z2Q5qCHXHJcbiAgICBwcml2YXRlIGlkeF94OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGlkeF95OiBudW1iZXI7XHJcblxyXG4gICAgLy8g5Zu+54mH6Lev5b6EXHJcbiAgICBwcml2YXRlIHVybF9wbGF5ZXI6IHN0cmluZyA9IFwicmVzL3BsYXllci5wbmdcIjtcclxuICAgIHByaXZhdGUgdXJsX2VtcHR5OiBzdHJpbmcgPSBcInJlcy9lbXB0eS5wbmdcIjtcclxuICAgIHByaXZhdGUgdXJsX3dhbGw6IHN0cmluZyA9IFwicmVzL3dhbGwucG5nXCI7XHJcbiAgICBwcml2YXRlIHVybF9wYXNzZWQ6IHN0cmluZyA9IFwicmVzL3Bhc3NlZC5wbmdcIjtcclxuXHJcbiAgICAvLyDpmpznoo3nianotYTmupDliJfooajnu4RcclxuICAgIHByaXZhdGUgYmFycmllcnNDb21ib0JveDogQXJyYXk8QXJyYXk8TGF5YS5Db21ib0JveD4+ID0gbmV3IEFycmF5PEFycmF5PExheWEuQ29tYm9Cb3g+PigpO1xyXG4gICAgLy8g6Zqc56KN54mp5qCH6K+G5YiX6KGoXHJcbiAgICBwcml2YXRlIGJhcnJpZXJzTGlzdDogc3RyaW5nW10gPSBbXCJCdXNoXzExXCIsIFwiU3BvbmdlXCIsIFwiRWxlY0JveF8xMVwiLCBcIk1haWxfMTFcIiwgXCJQbGF0ZV8xMVwiLCBcIlBvZF8xMVwiLCBcIlBvZF8yMVwiLCBcIldlbnRfMTFcIiwgXCJXYWxsX1dvX0hvclwiLCBcIldhbGxfV29fVmVyXCIsIFwiQnJpY2tfSG9yXzFcIiwgXCJXYWxsX1dvX1ZlclwiLCBcIkJyaWNrX0hvcl8yXCIsIFwiQnJpY2tfVmVyXzFcIiwgXCJXYWxsX0hvcl8xXCIsIFwiV2FsbF9Ib3JfMlwiLCBcIldhbGxfSG9yXzNcIiwgXCJXYWxsX0JvdF9CXzFcIiwgXCJXYWxsX0JvdF9XXzFcIiwgXCJXYWxsX0JvdF9XXzJcIiwgXCJXaW5kb3dfMTFcIiwgXCJXaW5kb3dfMTJcIiwgXCJXaW5kb3dfMjFcIiwgXCJXaW5kb3dfMjJcIiwgXCJXaW5kb3dfMjNcIiwgXCJXaW5kb3dfQzExXCIsIFwiV2luZG93X0MxMlwiLCBcIldpbmRvd19DMjFcIiwgXCJXaW5kb3dfQzIyXCIsIFwiV2luZG93X0MyM1wiLCBcIldpbmRvd19HMTFcIiwgXCJXaW5kb3dfRzEyXCIsIFwiV2luZG93X0cyMVwiLCBcIldpbmRvd19HMjJcIiwgXCJXaW5kb3dfRzIzXCIsIFwiV2luZG93X0IxMVwiLCBcIldpbmRvd19CMTJcIiwgXCJXaW5kb3dfQjIxXCIsIFwiV2luZG93X0IyMlwiLCBcIldpbmRvd19CMjNcIiwgXCJXaW5kb3dfVzExXCIsIFwiV2luZG93X1cxMlwiLCBcIldpbmRvd19XMjFcIiwgXCJXaW5kb3dfVzIyXCIsIFwiV2luZG93X1cyM1wiLCBcIkRvb3JfMjRcIiwgXCJEb29yX0cyNFwiLCBcIkRvb3JfQjI0XCIsIFwiRG9vcl9DMjRcIiwgXCJEb29yX1cyNFwiXTtcclxuICAgIHByaXZhdGUgYmFycmllcnNOdW06IG51bWJlciA9IDQ4O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIC8vIOWIneWni+WMluWcuuaZr1xyXG4gICAgICAgIHRoaXMuaW5pdFNjZW5lKCk7XHJcblxyXG4gICAgICAgIC8vIOmUruebmOaTjeS9nOebkeWQrFxyXG4gICAgICAgIHRoaXMua2V5Ym9hcmRMaXN0ZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDliJ3lp4vljJblnLrmma9cclxuICAgIHByaXZhdGUgaW5pdFNjZW5lKCkge1xyXG4gICAgICAgIC8v5re75Yqg5Zy65pmvXHJcbiAgICAgICAgbGV0IHNjZW5lOiBMYXlhLlNjZW5lID0gTGF5YS5zdGFnZS5hZGRDaGlsZChuZXcgTGF5YS5TY2VuZSgpKSBhcyBMYXlhLlNjZW5lO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYmdDb2xvciA9IFwiI2Q1ZDdmNFwiO1xyXG4gICAgICAgIExheWEuc3RhZ2Uud2lkdGggPSAxMDAwO1xyXG4gICAgICAgIExheWEuc3RhZ2UuaGVpZ2h0ID0gMTAwMDtcclxuXHJcbiAgICAgICAgLy/mt7vliqDov7flrqvnm5JcclxuICAgICAgICAvLyB0aGlzLm1hemVCb3ggPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5TcHJpdGUoKSkgYXMgTGF5YS5TcHJpdGU7XHJcbiAgICAgICAgdGhpcy5tYXplQm94LnggPSAxMDA7XHJcbiAgICAgICAgdGhpcy5tYXplQm94LnkgPSAxMDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6L+35a6r55Sf5oiQXHJcbiAgICBwcml2YXRlIGdlbmVyYXRlTWF6ZSgpIHtcclxuICAgICAgICAvLyDorr7nva7ov7flrqvlj4LmlbBcclxuICAgICAgICB0aGlzLnVuaXRXaWR0aCA9ICh0aGlzLnN0YWdlLndpZHRoIC0gdGhpcy5tYXplQm94LnggKiAyKSAvIHRoaXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy51bml0V2lkdGggPSB0aGlzLnVuaXRXaWR0aCA+IDEwMCA/IDEwMCA6IHRoaXMudW5pdFdpZHRoO1xyXG5cclxuICAgICAgICAvLyDnlJ/miJDov7flrqvnn6npmLVcclxuICAgICAgICB0aGlzLm1hemUgPSBuZXcgTWF6ZSh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5kaWZmKTtcclxuICAgICAgICBsZXQgeDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy53aWR0aCk7XHJcbiAgICAgICAgbGV0IHk6IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICBsZXQgdHJ5VGltZXM6IG51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWF6ZSBnZW5lcmF0aW5nLi4uXCIpO1xyXG4gICAgICAgIHdoaWxlICghdGhpcy5tYXplLmdlbmVyYXRlKHgsIHkpICYmIHRyeVRpbWVzIDwgdGhpcy5tYXhUcnlUaW1lcykge1xyXG4gICAgICAgICAgICB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy53aWR0aCk7XHJcbiAgICAgICAgICAgIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRyeVRpbWVzKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0cnlUaW1lcyA+PSB0aGlzLm1heFRyeVRpbWVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmFpbGVkLiBUcnkgYWdhaW5cIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJEb25lLiBUcnkgdGltZXM6IFwiICsgdHJ5VGltZXMpO1xyXG4gICAgICAgIHRoaXMub3V0TWF6ZSA9IHRoaXMubWF6ZS5nZXRNYXplKCk7XHJcblxyXG4gICAgICAgIC8vIOa4suafk+i/t+Wuq+WPiueOqeWutlxyXG4gICAgICAgIHRoaXMucmVuZGVyTWF6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOa4suafk+i/t+Wuq+WPiueOqeWutlxyXG4gICAgcHJpdmF0ZSByZW5kZXJNYXplKCkge1xyXG4gICAgICAgIHRoaXMubWF6ZUJveC52aXNpYmxlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgbGV0IGJhcnJpZXJzTGFiZWw6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuYmFycmllcnNMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChmbGFnKSB7IGJhcnJpZXJzTGFiZWwgKz0gXCIsXCI7IH1cclxuICAgICAgICAgICAgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGJhcnJpZXJzTGFiZWwgKz0gaXRlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOa4suafk+i/t+Wuq1xyXG4gICAgICAgIHRoaXMubWF6ZVNwcml0ZSA9IG5ldyBBcnJheTxBcnJheTxMYXlhLlNwcml0ZT4+KCk7XHJcbiAgICAgICAgLy8g5Yid5aeL5YyW6L+35a6r5Y2V5YWDXHJcbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMud2lkdGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLm1hemVTcHJpdGUucHVzaChuZXcgQXJyYXk8TGF5YS5TcHJpdGU+KCkpO1xyXG4gICAgICAgICAgICB0aGlzLmJhcnJpZXJzQ29tYm9Cb3gucHVzaChuZXcgQXJyYXk8TGF5YS5Db21ib0JveD4oKSk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGo6IG51bWJlciA9IDA7IGogPCB0aGlzLmhlaWdodDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdW5pdDogTGF5YS5TcHJpdGUgPSBuZXcgTGF5YS5TcHJpdGUoKTtcclxuICAgICAgICAgICAgICAgIHVuaXQudGV4dHVyZSA9IG5ldyBMYXlhLlRleHR1cmUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF6ZUJveC5hZGRDaGlsZCh1bml0KTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dE1hemVbaV1bal0pIHtcclxuICAgICAgICAgICAgICAgICAgICB1bml0LnRleHR1cmUubG9hZCh0aGlzLnVybF93YWxsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHVuaXQudGV4dHVyZS5sb2FkKHRoaXMudXJsX2VtcHR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVuaXQudGV4dHVyZS5oZWlnaHQgPSB0aGlzLnVuaXRXaWR0aDtcclxuICAgICAgICAgICAgICAgIHVuaXQud2lkdGggPSB0aGlzLnVuaXRXaWR0aDtcclxuICAgICAgICAgICAgICAgIHVuaXQuaGVpZ2h0ID0gdGhpcy51bml0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB1bml0LnggPSBpICogdGhpcy51bml0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB1bml0LnkgPSBqICogdGhpcy51bml0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hemVTcHJpdGVbaV0ucHVzaCh1bml0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDotYTmupDkuIvmi4nooahcclxuICAgICAgICAgICAgICAgIGxldCBjb21ib0JveDogTGF5YS5Db21ib0JveCA9IG5ldyBMYXlhLkNvbWJvQm94KFwiY29tcC9jb21ib2JveC5wbmdcIiwgYmFycmllcnNMYWJlbCk7XHJcbiAgICAgICAgICAgICAgICBjb21ib0JveC53aWR0aCA9IHRoaXMudW5pdFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgY29tYm9Cb3guaGVpZ2h0ID0gdGhpcy51bml0V2lkdGggLyA0O1xyXG4gICAgICAgICAgICAgICAgY29tYm9Cb3gueCA9IChpICsgMSkgKiB0aGlzLnVuaXRXaWR0aCAtIGNvbWJvQm94LndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY29tYm9Cb3gueSA9IGogKiB0aGlzLnVuaXRXaWR0aDtcclxuICAgICAgICAgICAgICAgIGNvbWJvQm94LnpPcmRlciA9IDE7XHJcbiAgICAgICAgICAgICAgICBjb21ib0JveC52aXNpYmxlTnVtID0gMjA7XHJcbiAgICAgICAgICAgICAgICBjb21ib0JveC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvLyDkuIvmi4nliJfooajlhoXmu5rliqjmnaFcclxuICAgICAgICAgICAgICAgIGNvbWJvQm94LnNjcm9sbEJhclNraW4gPSBcImNvbXAvdnNjcm9sbC5wbmdcIjtcclxuICAgICAgICAgICAgICAgIGNvbWJvQm94LnNjcm9sbEJhci5zY2FsZVggLz0gMjtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hemVCb3guYWRkQ2hpbGQoY29tYm9Cb3gpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXJyaWVyc0NvbWJvQm94W2ldLnB1c2goY29tYm9Cb3gpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOm8oOagh+ebkeWQrFxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXplU3ByaXRlW2ldW2pdLm9uKExheWEuRXZlbnQuTU9VU0VfVVAsIHRoaXMsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc0xhYmVsLmNoYW5nZVRleHQoXCLlnZDmoIc6IChcIiArIGkgKyBcIixcIiArIGogKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0TWF6ZVtpXVtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhcnJpZXJzQ29tYm9Cb3hbaV1bal0udmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmxTdHJpbmc6IHN0cmluZyA9IHRoaXMuYmFycmllcnNDb21ib0JveFtpXVtqXS5zZWxlY3RlZExhYmVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmxTdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybFN0cmluZyA9IFwicmVzL2JhcnJpZXJzX3RleHR1cmUvXCIgKyB1cmxTdHJpbmcgKyBcIi5wbmdcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF6ZVNwcml0ZVtpXVtqXS50ZXh0dXJlLmxvYWQodXJsU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFycmllcnNDb21ib0JveFtpXVtqXS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5riy5p+T546p5a62XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgTGF5YS5TcHJpdGUoKTtcclxuICAgICAgICB0aGlzLnBsYXllci53aWR0aCA9IHRoaXMudW5pdFdpZHRoO1xyXG4gICAgICAgIHRoaXMucGxheWVyLmhlaWdodCA9IHRoaXMudW5pdFdpZHRoO1xyXG4gICAgICAgIHRoaXMucGxheWVyLnRleHR1cmUgPSBuZXcgTGF5YS5UZXh0dXJlKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIudGV4dHVyZS5sb2FkKHRoaXMudXJsX3BsYXllcik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIueCA9IHRoaXMubWF6ZS5zdGFydFggKiB0aGlzLnVuaXRXaWR0aDtcclxuICAgICAgICB0aGlzLnBsYXllci55ID0gdGhpcy5tYXplLnN0YXJ0WSAqIHRoaXMudW5pdFdpZHRoO1xyXG4gICAgICAgIHRoaXMubWF6ZUJveC5hZGRDaGlsZCh0aGlzLnBsYXllcik7XHJcblxyXG4gICAgICAgIC8vIOeOqeWutuS9jee9ruiusOW9lVxyXG4gICAgICAgIHRoaXMuaWR4X3ggPSB0aGlzLm1hemUuc3RhcnRYO1xyXG4gICAgICAgIHRoaXMuaWR4X3kgPSB0aGlzLm1hemUuc3RhcnRZO1xyXG5cclxuICAgICAgICAvLyDnjqnlrrbmiYDlnKjkvY3nva7mtoLoibJcclxuICAgICAgICB0aGlzLm1hemVTcHJpdGVbdGhpcy5pZHhfeF1bdGhpcy5pZHhfeV0udGV4dHVyZS5sb2FkKHRoaXMudXJsX3Bhc3NlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6ZSu55uY5pON5L2c55uR5ZCsXHJcbiAgICBwcml2YXRlIGtleWJvYXJkTGlzdGVuKCkge1xyXG4gICAgICAgIC8vIOmUruebmOaMieS4i+WkhOeQhlxyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5LRVlfRE9XTiwgdGhpcywgKGUpID0+IHtcclxuICAgICAgICAgICAgLy8gbGVmdFxyXG4gICAgICAgICAgICBpZiAoZVtcImtleUNvZGVcIl0gPT09IDM3KSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5pZHhfeCA+IDAgJiYgIXRoaXMub3V0TWF6ZVt0aGlzLmlkeF94IC0gMV1bdGhpcy5pZHhfeV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkeF94LS07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5pS55Y+Y546p5a625L2N572uXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIueCAtPSB0aGlzLnVuaXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAvLyDnjqnlrrbkvY3nva7mtoLoibJcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXplU3ByaXRlW3RoaXMuaWR4X3hdW3RoaXMuaWR4X3ldLnRleHR1cmUudXJsICE9IHRoaXMudXJsX3Bhc3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hemVTcHJpdGVbdGhpcy5pZHhfeF1bdGhpcy5pZHhfeV0udGV4dHVyZS5sb2FkKHRoaXMudXJsX3Bhc3NlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHVwXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGVbXCJrZXlDb2RlXCJdID09PSAzOCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuaWR4X3kgPiAwICYmICF0aGlzLm91dE1hemVbdGhpcy5pZHhfeF1bdGhpcy5pZHhfeSAtIDFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZHhfeS0tO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOaUueWPmOeOqeWutuS9jee9rlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnkgLT0gdGhpcy51bml0V2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g546p5a625L2N572u5raC6ImyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF6ZVNwcml0ZVt0aGlzLmlkeF94XVt0aGlzLmlkeF95XS50ZXh0dXJlLnVybCAhPSB0aGlzLnVybF9wYXNzZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXplU3ByaXRlW3RoaXMuaWR4X3hdW3RoaXMuaWR4X3ldLnRleHR1cmUubG9hZCh0aGlzLnVybF9wYXNzZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyByaWdodFxyXG4gICAgICAgICAgICBlbHNlIGlmIChlW1wia2V5Q29kZVwiXSA9PT0gMzkpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmlkeF94IDwgdGhpcy53aWR0aCAtIDEgJiYgIXRoaXMub3V0TWF6ZVt0aGlzLmlkeF94ICsgMV1bdGhpcy5pZHhfeV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkeF94Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5pS55Y+Y546p5a625L2N572uXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIueCArPSB0aGlzLnVuaXRXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAvLyDnjqnlrrbkvY3nva7mtoLoibJcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXplU3ByaXRlW3RoaXMuaWR4X3hdW3RoaXMuaWR4X3ldLnRleHR1cmUudXJsICE9IHRoaXMudXJsX3Bhc3NlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hemVTcHJpdGVbdGhpcy5pZHhfeF1bdGhpcy5pZHhfeV0udGV4dHVyZS5sb2FkKHRoaXMudXJsX3Bhc3NlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGRvd25cclxuICAgICAgICAgICAgZWxzZSBpZiAoZVtcImtleUNvZGVcIl0gPT09IDQwKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5pZHhfeSA8IHRoaXMuaGVpZ2h0IC0gMSAmJiAhdGhpcy5vdXRNYXplW3RoaXMuaWR4X3hdW3RoaXMuaWR4X3kgKyAxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWR4X3krKztcclxuICAgICAgICAgICAgICAgICAgICAvLyDmlLnlj5jnjqnlrrbkvY3nva5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllci55ICs9IHRoaXMudW5pdFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOeOqeWutuS9jee9rua2guiJslxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hemVTcHJpdGVbdGhpcy5pZHhfeF1bdGhpcy5pZHhfeV0udGV4dHVyZS51cmwgIT0gdGhpcy51cmxfcGFzc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWF6ZVNwcml0ZVt0aGlzLmlkeF94XVt0aGlzLmlkeF95XS50ZXh0dXJlLmxvYWQodGhpcy51cmxfcGFzc2VkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcmVzdGFydFxyXG4gICAgICAgICAgICBlbHNlIGlmIChlW1wia2V5Q29kZVwiXSA9PT0gODIpIHtcclxuICAgICAgICAgICAgICAgIC8vIOmHjee9rui/t+Wuq+WNleWFg1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMud2lkdGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGo6IG51bWJlciA9IDA7IGogPCB0aGlzLmhlaWdodDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5vdXRNYXplW2ldW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXplU3ByaXRlW2ldW2pdLnRleHR1cmUudXJsICE9IHRoaXMudXJsX2VtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXplU3ByaXRlW2ldW2pdLnRleHR1cmUubG9hZCh0aGlzLnVybF9lbXB0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyDph43nva7njqnlrrZcclxuICAgICAgICAgICAgICAgIHRoaXMuaWR4X3ggPSB0aGlzLm1hemUuc3RhcnRYO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pZHhfeSA9IHRoaXMubWF6ZS5zdGFydFk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci54ID0gdGhpcy5pZHhfeCAqIHRoaXMudW5pdFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIueSA9IHRoaXMuaWR4X3kgKiB0aGlzLnVuaXRXaWR0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF6ZVNwcml0ZVt0aGlzLmlkeF94XVt0aGlzLmlkeF95XS50ZXh0dXJlLmxvYWQodGhpcy51cmxfcGFzc2VkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSBtYXplXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGVbXCJrZXlDb2RlXCJdID09PSA3MSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLndpZHRoSW5wdXQudGV4dCB8fCAhdGhpcy5oZWlnaHRJbnB1dC50ZXh0IHx8ICF0aGlzLmRpZmZJbnB1dC50ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXhUcnlUaW1lcyA9IDEwMDAwMDA7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cnl0aW1lc0lucHV0LnRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heFRyeVRpbWVzICo9ICgrdGhpcy50cnl0aW1lc0lucHV0LnRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9ICt0aGlzLndpZHRoSW5wdXQudGV4dDtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gK3RoaXMuaGVpZ2h0SW5wdXQudGV4dDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlmZiA9ICt0aGlzLmRpZmZJbnB1dC50ZXh0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZU1hemUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBwcmludCBkYXRhXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGVbXCJrZXlDb2RlXCJdID09PSA4MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmludCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6L6T5Ye66L+35a6r5pWw5o2uXHJcbiAgICBwcml2YXRlIHByaW50KCkge1xyXG4gICAgICAgIGxldCBkYXRhOiBzdHJpbmcgPSBcIk1hemUgbXNnOiB7XCI7XHJcbiAgICAgICAgZGF0YSArPSBcInc6XCIgKyB0aGlzLndpZHRoICsgXCIsIGg6XCIgKyB0aGlzLmhlaWdodCArIFwiLCBcIjtcclxuXHJcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcclxuICAgICAgICBkYXRhICs9IFwiYmFycmllcnNBcnI6W1wiO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy53aWR0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5oZWlnaHQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0TWF6ZVtpXVtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnKSB7IGRhdGEgKz0gXCIsIFwiIH1cclxuICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhICs9IFwiXFxcIlwiICsgaSArIFwiLFwiICsgaiArIFwiLFwiICsgdGhpcy5iYXJyaWVyc0NvbWJvQm94W2ldW2pdLnNlbGVjdGVkTGFiZWwgKyBcIlxcXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRhICs9IFwiXSwgXCI7XHJcbiAgICAgICAgZGF0YSArPSBcInBsYXllcl9wb3M6XFxcIlwiICsgdGhpcy5tYXplLnN0YXJ0WCArIFwiLFwiICsgdGhpcy5tYXplLnN0YXJ0WSArIFwiXFxcIlwiO1xyXG4gICAgICAgIGRhdGEgKz0gXCJ9XCI7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF6ZSB7XHJcbiAgICAvKiog6L+35a6r5bC65a+4ICovXHJcbiAgICBwcml2YXRlIHdpZHRoOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGhlaWdodDogbnVtYmVyO1xyXG4gICAgLyoqIOiusOW9lei/t+Wuq+eKtuaAge+8jOavj+S4quWNleWFg+agvOeKtuaAgeaciSBlbXB0eSwgd2FsbCwgdW5kZWZpbmVkIOS4ieenjSAqL1xyXG4gICAgcHJpdmF0ZSBtYXplOiBBcnJheTxBcnJheTxzdHJpbmc+PiA9IG5ldyBBcnJheTxBcnJheTxzdHJpbmc+PigpO1xyXG4gICAgLyoqIOi+k+WHuui/t+Wuq+efqemYtSwg5q+P5Liq5Y2V5YWD5qC85Lik56eN54q25oCBOiB0cnVlIOS4uuWimSwgZmFsc2Ug5Li656m6ICovXHJcbiAgICBwcml2YXRlIG91dE1hemU6IEFycmF5PEFycmF5PGJvb2xlYW4+PiA9IG5ldyBBcnJheTxBcnJheTxib29sZWFuPj4oKTtcclxuXHJcbiAgICAvKiog6L+35a6r6LW354K5ICovXHJcbiAgICBwdWJsaWMgc3RhcnRYOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgc3RhcnRZOiBudW1iZXI7XHJcbiAgICAvKiog6L+35a6r6Kej5rOV6Lev5b6EICovXHJcbiAgICBwcml2YXRlIHNvbHV0aW9uOiBzdHJpbmdbXSA9IFtdO1xyXG5cclxuICAgIC8qKiDov7flrqvkuK3mnKrlrprkuYnljZXlhYPmoLzorqHmlbAgKi9cclxuICAgIHByaXZhdGUgY291bnQ6IG51bWJlcjtcclxuICAgIC8qKiDmnIDlsI/mnKrlrprkuYnljZXlhYPmoLzmlbAsIOeUqOS6jue7k+adn+i/t+Wuq+eUn+aIkO+8jOe7k+adn+aXtuacquWumuS5ieeahuWhq+ihpeS4uuWimSwg5pWw5YC85L2T546w6Zq+5bqmICovXHJcbiAgICBwcml2YXRlIG1pbkNvdW50OiBudW1iZXIgPSAzO1xyXG4gICAgLyoqIOaXoOaViCByYW5kb21Nb3ZlIOiuoeaVsCAqL1xyXG4gICAgcHJpdmF0ZSB1bmNoYW5nZUNudDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgbWF4VW5jaGFuZ2VDbnQ6IG51bWJlciA9IDM7XHJcblxyXG4gICAgLyoqIOepuuWNleWFg+agvOaVsCAqL1xyXG4gICAgcHJpdmF0ZSBlbXB0eUNudDogbnVtYmVyID0gMDtcclxuICAgIC8qKiDph43opoHlopnljZXlhYPmoLzmlbAgKi9cclxuICAgIHByaXZhdGUgd2FsbENudDogbnVtYmVyID0gMDtcclxuICAgIC8qKiDmo4DpqozmqKHlvI/orqHmlbAgKi9cclxuICAgIHByaXZhdGUgY2hlY2tDbnQ6IG51bWJlciA9IDA7XHJcbiAgICBwcml2YXRlIG1heFVuY2hhbmdlQ250Q2hlY2s6IG51bWJlciA9IDEwMDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgbWluQ291bnQ/OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5jb3VudCA9IHdpZHRoICogaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMubWluQ291bnQgPSBtaW5Db3VudDtcclxuXHJcbiAgICAgICAgLy8g55Sf5oiQ5Yid5aeL6L+35a6rXHJcbiAgICAgICAgZm9yIChsZXQgeDogbnVtYmVyID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xyXG4gICAgICAgICAgICB0aGlzLm1hemUucHVzaChuZXcgQXJyYXk8c3RyaW5nPigpKTtcclxuICAgICAgICAgICAgdGhpcy5vdXRNYXplLnB1c2gobmV3IEFycmF5PGJvb2xlYW4+KCkpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCB5OiBudW1iZXIgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXplW3hdLnB1c2goXCJ1bmRlZmluZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm91dE1hemVbeF0ucHVzaCh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog6YeN572u5bm26ZqP5py655Sf5oiQ5paw6L+35a6rXHJcbiAgICAgKiAgSW5wdXQgLSDotbfngrnlnZDmoIcoeCx5KVxyXG4gICAgICogIE91dHB1dCAtIOeUn+aIkOeKtuaAge+8mueUn+aIkOaIkOWKn+S4uiB0cnVlXHJcbiAgICAgKiAqL1xyXG4gICAgZ2VuZXJhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICAvLyDorrDlvZXotbfngrlcclxuICAgICAgICB0aGlzLnN0YXJ0WCA9IHg7XHJcbiAgICAgICAgdGhpcy5zdGFydFkgPSB5O1xyXG5cclxuICAgICAgICAvLyDph43nva7ov7flrqvmiYDmnInljZXlhYPmoLznirbmgIFcclxuICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgdGhpcy53aWR0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGo6IG51bWJlciA9IDA7IGogPCB0aGlzLmhlaWdodDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1hemVbaV1bal0gPSBcInVuZGVmaW5lZFwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vdXRNYXplW2ldW2pdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDph43nva7orqHmlbDlmahcclxuICAgICAgICB0aGlzLmNvdW50ID0gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZW1wdHlDbnQgPSAwO1xyXG5cclxuICAgICAgICAvLyDorr7nva7lvZPliY3kvY3nva7kuLrnqbpcclxuICAgICAgICBpZiAodGhpcy5zZXRTdGF0ZSh4LCB5LCBcImVtcHR5XCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6YCS5b2S6ZqP5py66KGM6LWwXHJcbiAgICAgICAgaWYgKHRoaXMucmFuZG9tTW92ZSh4LCB5LCB0aGlzLmNvdW50LCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMud2lkdGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgajogbnVtYmVyID0gMDsgaiA8IHRoaXMuaGVpZ2h0OyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXplW2ldW2pdID09PSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRNYXplW2ldW2pdID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOajgOmqjOWcsOWbvumavuW6pu+8jOS9v+W+l+eOqeWutuWJjeWHoOatpemqpOaTjeS9nOaciemrmOWuuemUmeeOh1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVjaygpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOmaj+acuumAieaLqeaWueWQkeeUn+aIkOi3r+W+hFxyXG4gICAgICogIElucHV0IC0g6LW354K55Z2Q5qCHKHgseSlcclxuICAgICAqICAgICAgICAgIOmqjOivgeaooeW8j+agh+iusDogdHJ1ZSDkuLrpqozor4HmqKHlvI9cclxuICAgICAqICBPdXRwdXQgLSDnlJ/miJDnirbmgIHvvJrmiJDlip/kuLogdHJ1ZVxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgcmFuZG9tTW92ZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcHJlQ291bnQ6IG51bWJlciwgaXNDaGVjazogYm9vbGVhbiA9IGZhbHNlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgLy8g5Yik5pat5Zub5Liq5pa55ZCR5piv5ZCm5Y+v6L6+XHJcbiAgICAgICAgbGV0IGRpcmVjdGlvbkxpc3Q6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgaWYgKHggPiAwICYmIHRoaXMubWF6ZVt4IC0gMV1beV0gIT09IFwid2FsbFwiKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNvbHV0aW9uICYmICEodGhpcy5zb2x1dGlvblt0aGlzLnNvbHV0aW9uLmxlbmd0aCAtIDFdID09PSBcInJpZ2h0XCIgJiYgdGhpcy5zb2x1dGlvblt0aGlzLnNvbHV0aW9uLmxlbmd0aCAtIDJdID09PSBcImxlZnRcIikpXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbkxpc3QucHVzaChcImxlZnRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh4IDwgdGhpcy53aWR0aCAtIDEgJiYgdGhpcy5tYXplW3ggKyAxXVt5XSAhPT0gXCJ3YWxsXCIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29sdXRpb24gJiYgISh0aGlzLnNvbHV0aW9uW3RoaXMuc29sdXRpb24ubGVuZ3RoIC0gMV0gPT09IFwibGVmdFwiICYmIHRoaXMuc29sdXRpb25bdGhpcy5zb2x1dGlvbi5sZW5ndGggLSAyXSA9PT0gXCJyaWdodFwiKSlcclxuICAgICAgICAgICAgZGlyZWN0aW9uTGlzdC5wdXNoKFwicmlnaHRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh5ID4gMCAmJiB0aGlzLm1hemVbeF1beSAtIDFdICE9PSBcIndhbGxcIikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zb2x1dGlvbiAmJiAhKHRoaXMuc29sdXRpb25bdGhpcy5zb2x1dGlvbi5sZW5ndGggLSAxXSA9PT0gXCJkb3duXCIgJiYgdGhpcy5zb2x1dGlvblt0aGlzLnNvbHV0aW9uLmxlbmd0aCAtIDJdID09PSBcInVwXCIpKVxyXG4gICAgICAgICAgICBkaXJlY3Rpb25MaXN0LnB1c2goXCJ1cFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHkgPCB0aGlzLmhlaWdodCAtIDEgJiYgdGhpcy5tYXplW3hdW3kgKyAxXSAhPT0gXCJ3YWxsXCIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc29sdXRpb24gJiYgISh0aGlzLnNvbHV0aW9uW3RoaXMuc29sdXRpb24ubGVuZ3RoIC0gMV0gPT09IFwidXBcIiAmJiB0aGlzLnNvbHV0aW9uW3RoaXMuc29sdXRpb24ubGVuZ3RoIC0gMl0gPT09IFwiZG93blwiKSlcclxuICAgICAgICAgICAgZGlyZWN0aW9uTGlzdC5wdXNoKFwiZG93blwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g6Iul5Zub6Z2i55qG5Li65aKZ77yM5YiZ55Sf5oiQ5aSx6LSl77yM6K+l5oOF5Ya155CG5bqU5LiN5a2Y5ZyoXHJcbiAgICAgICAgaWYgKCFkaXJlY3Rpb25MaXN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOmaj+acuumAieaLqeaWueWQkVxyXG4gICAgICAgIGxldCBkaXJlY3Rpb246IHN0cmluZyA9IGRpcmVjdGlvbkxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGlyZWN0aW9uTGlzdC5sZW5ndGgpXTtcclxuICAgICAgICAvLyDorrDlvZVcclxuICAgICAgICB0aGlzLnNvbHV0aW9uLnB1c2goZGlyZWN0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgICAgLy8g5pyA5aSn5Y+v6L6+6Lev5b6E6ZW/5bqmOiDmnKzkvY3nva7lh7rlj5HmnIDplb/ov57nu63ml6DlopnljZXlhYPmoLzmlbBcclxuICAgICAgICAgICAgbGV0IG1heFBhdGhMZW5ndGg6IG51bWJlciA9IDE7XHJcbiAgICAgICAgICAgIHdoaWxlICh4IC0gbWF4UGF0aExlbmd0aCA+IDAgJiYgdGhpcy5tYXplW3ggLSBtYXhQYXRoTGVuZ3RoIC0gMV1beV0gIT09IFwid2FsbFwiKSB7XHJcbiAgICAgICAgICAgICAgICBtYXhQYXRoTGVuZ3RoKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g5pyA5bCP5Y+v6L6+6Lev5b6E6ZW/5bqmOiDmnKzkvY3nva7lh7rlj5HmnIDplb/ov57nu63nqbrljZXlhYPmoLzmlbBcclxuICAgICAgICAgICAgbGV0IG1pblBhdGhMZW5ndGg6IG51bWJlciA9IDE7XHJcbiAgICAgICAgICAgIHdoaWxlICh4IC0gbWluUGF0aExlbmd0aCA+IDAgJiYgdGhpcy5tYXplW3ggLSBtaW5QYXRoTGVuZ3RoIC0gMV1beV0gPT09IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgbWluUGF0aExlbmd0aCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOmaj+acuumAieaLqei3r+W+hOmVv+W6plxyXG4gICAgICAgICAgICBsZXQgcGF0aExlbmd0aDogbnVtYmVyID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAobWF4UGF0aExlbmd0aCAtIG1pblBhdGhMZW5ndGgpICsgbWluUGF0aExlbmd0aCk7XHJcbiAgICAgICAgICAgIC8vIOS/ruato+i3r+W+hO+8jOacq+err+S4jeiDveS4uuepulxyXG4gICAgICAgICAgICB3aGlsZSAoeCAtIHBhdGhMZW5ndGggLSAxID49IDAgJiYgdGhpcy5tYXplW3ggLSBwYXRoTGVuZ3RoIC0gMV1beV0gPT09IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgcGF0aExlbmd0aC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOmqjOivgeaooeW8j+mineWkluWkhOeQhlxyXG4gICAgICAgICAgICBwYXRoTGVuZ3RoID0gaXNDaGVjayA/IG1heFBhdGhMZW5ndGggOiBwYXRoTGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgLy8g6K6+572u6Lev5b6E5LiK5Y2V5YWD5qC85Li656m6XHJcbiAgICAgICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IDE7IGkgPD0gcGF0aExlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB4LS07XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRTdGF0ZSh4LCB5LCBcImVtcHR5XCIsIGlzQ2hlY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6K6+572u6Lev5b6E5pyr56uvKOW3suS4jeWPr+iDveS4uuepuinkuLrloplcclxuICAgICAgICAgICAgaWYgKHggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRTdGF0ZSh4IC0gMSwgeSwgXCJ3YWxsXCIsIGlzQ2hlY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICAgICAgIC8vIOacgOWkp+WPr+i+vui3r+W+hOmVv+W6pjog5pys5L2N572u5Ye65Y+R5pyA6ZW/6L+e57ut5peg5aKZ5Y2V5YWD5qC85pWwXHJcbiAgICAgICAgICAgIGxldCBtYXhQYXRoTGVuZ3RoOiBudW1iZXIgPSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAoeCArIG1heFBhdGhMZW5ndGggPCB0aGlzLndpZHRoIC0gMSAmJiB0aGlzLm1hemVbeCArIG1heFBhdGhMZW5ndGggKyAxXVt5XSAhPT0gXCJ3YWxsXCIpIHtcclxuICAgICAgICAgICAgICAgIG1heFBhdGhMZW5ndGgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDmnIDlsI/lj6/ovr7ot6/lvoTplb/luqY6IOacrOS9jee9ruWHuuWPkeacgOmVv+i/nue7reepuuWNleWFg+agvOaVsFxyXG4gICAgICAgICAgICBsZXQgbWluUGF0aExlbmd0aDogbnVtYmVyID0gMTtcclxuICAgICAgICAgICAgd2hpbGUgKHggKyBtaW5QYXRoTGVuZ3RoIDwgdGhpcy53aWR0aCAtIDEgJiYgdGhpcy5tYXplW3ggKyBtaW5QYXRoTGVuZ3RoICsgMV1beV0gPT09IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgbWluUGF0aExlbmd0aCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOmaj+acuumAieaLqei3r+W+hOmVv+W6plxyXG4gICAgICAgICAgICBsZXQgcGF0aExlbmd0aDogbnVtYmVyID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAobWF4UGF0aExlbmd0aCAtIG1pblBhdGhMZW5ndGgpICsgbWluUGF0aExlbmd0aCk7XHJcbiAgICAgICAgICAgIC8vIOS/ruato+i3r+W+hO+8jOacq+err+S4jeiDveS4uuepulxyXG4gICAgICAgICAgICB3aGlsZSAoeCArIHBhdGhMZW5ndGggKyAxIDwgdGhpcy53aWR0aCAmJiB0aGlzLm1hemVbeCArIHBhdGhMZW5ndGggKyAxXVt5XSA9PT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoTGVuZ3RoLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6aqM6K+B5qih5byP6aKd5aSW5aSE55CGXHJcbiAgICAgICAgICAgIHBhdGhMZW5ndGggPSBpc0NoZWNrID8gbWF4UGF0aExlbmd0aCA6IHBhdGhMZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAvLyDorr7nva7ot6/lvoTkuIrljZXlhYPmoLzkuLrnqbpcclxuICAgICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMTsgaSA8PSBwYXRoTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHgrKztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldFN0YXRlKHgsIHksIFwiZW1wdHlcIiwgaXNDaGVjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDorr7nva7ot6/lvoTmnKvnq68o5bey5LiN5Y+v6IO95Li656m6KeS4uuWimVxyXG4gICAgICAgICAgICBpZiAoeCA8IHRoaXMud2lkdGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRTdGF0ZSh4ICsgMSwgeSwgXCJ3YWxsXCIsIGlzQ2hlY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gXCJ1cFwiKSB7XHJcbiAgICAgICAgICAgIC8vIOacgOWkp+WPr+i+vui3r+W+hOmVv+W6pjog5pys5L2N572u5Ye65Y+R5pyA6ZW/6L+e57ut5peg5aKZ5Y2V5YWD5qC85pWwXHJcbiAgICAgICAgICAgIGxldCBtYXhQYXRoTGVuZ3RoOiBudW1iZXIgPSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAoeSAtIG1heFBhdGhMZW5ndGggPiAwICYmIHRoaXMubWF6ZVt4XVt5IC0gbWF4UGF0aExlbmd0aCAtIDFdICE9PSBcIndhbGxcIikge1xyXG4gICAgICAgICAgICAgICAgbWF4UGF0aExlbmd0aCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOacgOWwj+WPr+i+vui3r+W+hOmVv+W6pjog5pys5L2N572u5Ye65Y+R5pyA6ZW/6L+e57ut56m65Y2V5YWD5qC85pWwXHJcbiAgICAgICAgICAgIGxldCBtaW5QYXRoTGVuZ3RoOiBudW1iZXIgPSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAoeSAtIG1pblBhdGhMZW5ndGggPiAwICYmIHRoaXMubWF6ZVt4XVt5IC0gbWluUGF0aExlbmd0aCAtIDFdID09PSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgIG1pblBhdGhMZW5ndGgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDpmo/mnLrpgInmi6not6/lvoTplb/luqZcclxuICAgICAgICAgICAgbGV0IHBhdGhMZW5ndGg6IG51bWJlciA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogKG1heFBhdGhMZW5ndGggLSBtaW5QYXRoTGVuZ3RoKSArIG1pblBhdGhMZW5ndGgpO1xyXG4gICAgICAgICAgICAvLyDkv67mraPot6/lvoTvvIzmnKvnq6/kuI3og73kuLrnqbpcclxuICAgICAgICAgICAgd2hpbGUgKHkgLSBwYXRoTGVuZ3RoIC0gMSA+PSAwICYmIHRoaXMubWF6ZVt4XVt5IC0gcGF0aExlbmd0aCAtIDFdID09PSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgIHBhdGhMZW5ndGgtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDpqozor4HmqKHlvI/pop3lpJblpITnkIZcclxuICAgICAgICAgICAgcGF0aExlbmd0aCA9IGlzQ2hlY2sgPyBtYXhQYXRoTGVuZ3RoIDogcGF0aExlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIC8vIOiuvue9rui3r+W+hOS4iuWNleWFg+agvOS4uuepulxyXG4gICAgICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAxOyBpIDw9IHBhdGhMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgeS0tO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0U3RhdGUoeCwgeSwgXCJlbXB0eVwiLCBpc0NoZWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOiuvue9rui3r+W+hOacq+erryjlt7LkuI3lj6/og73kuLrnqbop5Li65aKZXHJcbiAgICAgICAgICAgIGlmICh5ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0U3RhdGUoeCwgeSAtIDEsIFwid2FsbFwiLCBpc0NoZWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbHNlIGlmIChkaXJlY3Rpb24gPT09IFwiZG93blwiKSB7XHJcbiAgICAgICAgICAgIC8vIOacgOWkp+WPr+i+vui3r+W+hOmVv+W6pjog5pys5L2N572u5Ye65Y+R5pyA6ZW/6L+e57ut5peg5aKZ5Y2V5YWD5qC85pWwXHJcbiAgICAgICAgICAgIGxldCBtYXhQYXRoTGVuZ3RoOiBudW1iZXIgPSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAoeSArIG1heFBhdGhMZW5ndGggPCB0aGlzLmhlaWdodCAtIDEgJiYgdGhpcy5tYXplW3hdW3kgKyBtYXhQYXRoTGVuZ3RoICsgMV0gIT09IFwid2FsbFwiKSB7XHJcbiAgICAgICAgICAgICAgICBtYXhQYXRoTGVuZ3RoKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g5pyA5bCP5Y+v6L6+6Lev5b6E6ZW/5bqmOiDmnKzkvY3nva7lh7rlj5HmnIDplb/ov57nu63nqbrljZXlhYPmoLzmlbBcclxuICAgICAgICAgICAgbGV0IG1pblBhdGhMZW5ndGg6IG51bWJlciA9IDE7XHJcbiAgICAgICAgICAgIHdoaWxlICh5ICsgbWluUGF0aExlbmd0aCA8IHRoaXMuaGVpZ2h0IC0gMSAmJiB0aGlzLm1hemVbeF1beSArIG1pblBhdGhMZW5ndGggKyAxXSA9PT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICBtaW5QYXRoTGVuZ3RoKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6ZqP5py66YCJ5oup6Lev5b6E6ZW/5bqmXHJcbiAgICAgICAgICAgIGxldCBwYXRoTGVuZ3RoOiBudW1iZXIgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIChtYXhQYXRoTGVuZ3RoIC0gbWluUGF0aExlbmd0aCkgKyBtaW5QYXRoTGVuZ3RoKTtcclxuICAgICAgICAgICAgLy8g5L+u5q2j6Lev5b6E77yM5pyr56uv5LiN6IO95Li656m6XHJcbiAgICAgICAgICAgIHdoaWxlICh5ICsgcGF0aExlbmd0aCArIDEgPCB0aGlzLmhlaWdodCAmJiB0aGlzLm1hemVbeF1beSArIHBhdGhMZW5ndGggKyAxXSA9PT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRoTGVuZ3RoLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g6aqM6K+B5qih5byP6aKd5aSW5aSE55CGXHJcbiAgICAgICAgICAgIHBhdGhMZW5ndGggPSBpc0NoZWNrID8gbWF4UGF0aExlbmd0aCA6IHBhdGhMZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAvLyDorr7nva7ot6/lvoTkuIrljZXlhYPmoLzkuLrnqbpcclxuICAgICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMTsgaSA8PSBwYXRoTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHkrKztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldFN0YXRlKHgsIHksIFwiZW1wdHlcIiwgaXNDaGVjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDorr7nva7ot6/lvoTmnKvnq68o5bey5LiN5Y+v6IO95Li656m6KeS4uuWimVxyXG4gICAgICAgICAgICBpZiAoeSA8IHRoaXMuaGVpZ2h0IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0U3RhdGUoeCwgeSArIDEsIFwid2FsbFwiLCBpc0NoZWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDnlJ/miJDmqKHlvI9cclxuICAgICAgICBpZiAoIWlzQ2hlY2spIHtcclxuICAgICAgICAgICAgLy8g6Iul6K6h5pWw5peg5Y+Y5YyW77yM5Yik5pat55Sf5oiQ6Lev5b6E6YeN5aSN77yM55Sf5oiQ5aSx6LSlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ID09PSBwcmVDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bmNoYW5nZUNudCsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudW5jaGFuZ2VDbnQgPj0gdGhpcy5tYXhVbmNoYW5nZUNudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5jaGFuZ2VDbnQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDpgJLlvZLvvJrpmo/mnLrpgInmi6nkuIvkuIDmlrnlkJFcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmFuZG9tTW92ZSh4LCB5LCB0aGlzLmNvdW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5qOA6aqM5qih5byPXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOiLpeajgOmqjOiuoeaVsOaXoOWPmOWMllxyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0NudCA9PT0gcHJlQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5jaGFuZ2VDbnQrKztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVuY2hhbmdlQ250ID49IHRoaXMubWF4VW5jaGFuZ2VDbnRDaGVjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5jaGFuZ2VDbnQgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDpgJLlvZLvvJrpmo/mnLrpgInmi6nkuIvkuIDmlrnlkJFcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmFuZG9tTW92ZSh4LCB5LCB0aGlzLmNoZWNrQ250LCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIOWNleWFg+agvOeKtuaAgei1i+WAvO+8jOW5tuabtOaWsOacquWumuS5ieiuoeaVsFxyXG4gICAgICogIElucHV0IC0gKHgseSk6IOWNleWFg+agvOWdkOagh1xyXG4gICAgICogICAgICAgICAgc3RhdGU6IOWNleWFg+agvOebruagh+eKtuaAgSggZW1wdHksIHdhbGwgKVxyXG4gICAgICogICAgICAgICAg6aqM6K+B5qih5byP5qCH6K6wOiB0cnVlIOS4uumqjOivgeaooeW8j1xyXG4gICAgICogIE91dHB1dCAtIOi/t+Wuq+eUn+aIkOe7k+adn+agh+W/l++8mue7k+adn+S4uiB0cnVlXHJcbiAgICAgKiAqL1xyXG4gICAgcHJpdmF0ZSBzZXRTdGF0ZSh4OiBudW1iZXIsIHk6IG51bWJlciwgc3RhdGU6IHN0cmluZywgaXNDaGVjazogYm9vbGVhbiA9IGZhbHNlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IHByZVN0YXRlOiBzdHJpbmcgPSB0aGlzLm1hemVbeF1beV07XHJcbiAgICAgICAgLy8g5qOA6aqM5qih5byPXHJcbiAgICAgICAgaWYgKGlzQ2hlY2spIHtcclxuICAgICAgICAgICAgaWYgKHByZVN0YXRlID09PSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF6ZVt4XVt5XSA9IFwicGFzc2VkXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQ250Kys7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0NudCA9PT0gdGhpcy5lbXB0eUNudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOi/t+Wuq+ajgOmqjOe7k+adn++8jOajgOmqjOaIkOWKn1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g55Sf5oiQ5qih5byPXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF6ZVt4XVt5XSA9IHN0YXRlO1xyXG4gICAgICAgICAgICBpZiAocHJlU3RhdGUgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY291bnQtLTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXB0eUNudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUgPT09IFwid2FsbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWxsQ250Kys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb3VudCA8PSB0aGlzLm1pbkNvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6L+35a6r55Sf5oiQ57uT5p2f77yM55Sf5oiQ5oiQ5YqfXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiog5qOA6aqM6L+35a6r77yM55uu5qCH5L2/5b6X546p5a625YmN5Yeg5q2l6aqk5pON5L2c5pyJ6auY5a656ZSZ546HICovXHJcbiAgICBwcml2YXRlIGNoZWNrKCkge1xyXG4gICAgICAgIC8vIOi1t+eCuVxyXG4gICAgICAgIGxldCB4OiBudW1iZXI7XHJcbiAgICAgICAgbGV0IHk6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLy8gLy8g6YGN5Y6G5q+P5Liq56m66IqC54K5XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMud2lkdGg7IGkrKykge1xyXG4gICAgICAgIC8vICAgICBmb3IgKGxldCBqOiBudW1iZXIgPSAwOyBqIDwgdGhpcy5oZWlnaHQ7IGorKykge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKCF0aGlzLm91dE1hemVbaV1bal0pIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAvLyDlsJ3or5XlpJrmrKFcclxuICAgICAgICAvLyAgICAgICAgICAgICBmb3IgKGxldCB0aW1lczogbnVtYmVyID0gMDsgdGltZXMgPCAzOyB0aW1lcysrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIOmHjee9rui/t+Wuq+WPguaVsFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0Q2hlY2soKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShpLCBqLCBcInBhc3NlZFwiLCB0cnVlKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJhbmRvbU1vdmUoaSwgaiwgdGhpcy5lbXB0eUNudCwgdHJ1ZSkpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2sgZmFpbGVkLlwiKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNoZWNrIHNlY2Nlc3NlZC5cIik7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RhcnQ6IChcIiArIGkgKyBcIixcIiArIGogKyBcIilcIik7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc29sdXRpb24pO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyAvLyDpqozor4HmiJDlip9cclxuICAgICAgICAvLyByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8g6YGN5Y6G5Zub5Liq5pa55ZCR5piv5ZCm5Z2H5Y+v6KejXHJcbiAgICAgICAgZm9yIChsZXQgdGltZXM6IG51bWJlciA9IDA7IHRpbWVzIDwgMTA7IHRpbWVzKyspIHtcclxuICAgICAgICAgICAgLy8gbGVmdFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0Q2hlY2soKTtcclxuICAgICAgICAgICAgLy8g6YeN572u6LW354K5XHJcbiAgICAgICAgICAgIHggPSB0aGlzLnN0YXJ0WDtcclxuICAgICAgICAgICAgeSA9IHRoaXMuc3RhcnRZO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHgsIHksIFwicGFzc2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB3aGlsZSAoeCA+IDAgJiYgdGhpcy5tYXplW3ggLSAxXVt5XSA9PT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICB4LS07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHgsIHksIFwicGFzc2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOmAkuW9kumaj+acuuihjOi1sFxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucmFuZG9tTW92ZSh4LCB5LCB0aGlzLmVtcHR5Q250LCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJjaGVjayBsZWZ0IGZhaWxlZC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJpZ2h0XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRDaGVjaygpO1xyXG4gICAgICAgICAgICAvLyDph43nva7otbfngrlcclxuICAgICAgICAgICAgeCA9IHRoaXMuc3RhcnRYO1xyXG4gICAgICAgICAgICB5ID0gdGhpcy5zdGFydFk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeCwgeSwgXCJwYXNzZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHdoaWxlICh4IDwgdGhpcy53aWR0aCAtIDEgJiYgdGhpcy5tYXplW3ggKyAxXVt5XSA9PT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICB4Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHgsIHksIFwicGFzc2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOmAkuW9kumaj+acuuihjOi1sFxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucmFuZG9tTW92ZSh4LCB5LCB0aGlzLmVtcHR5Q250LCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJjaGVjayByaWdodCBmYWlsZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB1cFxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0Q2hlY2soKTtcclxuICAgICAgICAgICAgLy8g6YeN572u6LW354K5XHJcbiAgICAgICAgICAgIHggPSB0aGlzLnN0YXJ0WDtcclxuICAgICAgICAgICAgeSA9IHRoaXMuc3RhcnRZO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHgsIHksIFwicGFzc2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB3aGlsZSAoeSA+IDAgJiYgdGhpcy5tYXplW3hdW3kgLSAxXSA9PT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICB5LS07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHgsIHksIFwicGFzc2VkXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOmAkuW9kumaj+acuuihjOi1sFxyXG4gICAgICAgICAgICBpZiAoIXRoaXMucmFuZG9tTW92ZSh4LCB5LCB0aGlzLmVtcHR5Q250LCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJjaGVjayB1cCBmYWlsZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBkb3duXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRDaGVjaygpO1xyXG4gICAgICAgICAgICAvLyDph43nva7otbfngrlcclxuICAgICAgICAgICAgeCA9IHRoaXMuc3RhcnRYO1xyXG4gICAgICAgICAgICB5ID0gdGhpcy5zdGFydFk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeCwgeSwgXCJwYXNzZWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHdoaWxlICh5IDwgdGhpcy5oZWlnaHQgLSAxICYmIHRoaXMubWF6ZVt4XVt5ICsgMV0gPT09IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgeSsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh4LCB5LCBcInBhc3NlZFwiLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDpgJLlvZLpmo/mnLrooYzotbBcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnJhbmRvbU1vdmUoeCwgeSwgdGhpcy5lbXB0eUNudCwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2hlY2sgZG93biBmYWlsZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImNoZWNrIHNlY2Nlc3NlZC4gdGltZXM6IFwiICsgdGltZXMgKyBcIi85XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmo4DpqozmiJDlip9cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlc2V0Q2hlY2soKSB7XHJcbiAgICAgICAgLy8g6YeN572u6K6h5pWwXHJcbiAgICAgICAgdGhpcy5jaGVja0NudCA9IDA7XHJcbiAgICAgICAgLy8g6YeN572u6L+35a6rXHJcbiAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IHRoaXMud2lkdGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqOiBudW1iZXIgPSAwOyBqIDwgdGhpcy5oZWlnaHQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0TWF6ZVtpXVtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF6ZVtpXVtqXSA9IFwid2FsbFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXplW2ldW2pdID0gXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOmHjee9ruino+azlVxyXG4gICAgICAgIHRoaXMuc29sdXRpb24gPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvKiog6L6T5Ye66L+35a6r55+p6Zi1LCDmr4/kuKrljZXlhYPmoLzkuKTnp43nirbmgIE6IHRydWUg5Li65aKZLCBmYWxzZSDkuLrnqbogKi9cclxuICAgIGdldE1hemUoKTogQXJyYXk8QXJyYXk8Ym9vbGVhbj4+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vdXRNYXplO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbnZhciBSRUc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xuZXhwb3J0IG1vZHVsZSB1aS50ZXN0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBUZXN0U2NlbmVVSSBleHRlbmRzIFNjZW5lIHtcclxuXHRcdHB1YmxpYyBwb3NMYWJlbDpMYXlhLkxhYmVsO1xuXHRcdHB1YmxpYyB3aWR0aElucHV0OkxheWEuVGV4dElucHV0O1xuXHRcdHB1YmxpYyBoZWlnaHRJbnB1dDpMYXlhLlRleHRJbnB1dDtcblx0XHRwdWJsaWMgZGlmZklucHV0OkxheWEuVGV4dElucHV0O1xuXHRcdHB1YmxpYyB0cnl0aW1lc0lucHV0OkxheWEuVGV4dElucHV0O1xuXHRcdHB1YmxpYyBtYXplQm94OkxheWEuQm94O1xuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwidGVzdC9UZXN0U2NlbmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgUkVHKFwidWkudGVzdC5UZXN0U2NlbmVVSVwiLFRlc3RTY2VuZVVJKTtcclxufVxyIl19
