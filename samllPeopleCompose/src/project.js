window.__require=function e(t,i,o){function n(r,c){if(!i[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}}var h=i[r]={exports:{}};t[r][0].call(h.exports,function(e){return n(t[r][1][e]||e)},h,h.exports,e,t,i,o)}return i[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({BackgroundAdapter:[function(e,t,i){"use strict";cc._RF.push(t,"9c236S+ZENJU5t7SP0h3FMT","BackgroundAdapter"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,i=this.node.height*e;this.node.scale=Math.max(cc.view.getCanvasSize().width/t,cc.view.getCanvasSize().height/i)},t=__decorate([n],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],ContentAdapter:[function(e,t,i){"use strict";cc._RF.push(t,"45918ik8vtAU7a09JrwTybu","ContentAdapter"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),t=this.node.width*e,i=this.node.height*e;this.node.width=this.node.width*(cc.view.getCanvasSize().width/t),this.node.height=this.node.height*(cc.view.getCanvasSize().height/i)},t=__decorate([n],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],DataConfig:[function(e,t,i){"use strict";cc._RF.push(t,"7acc8El1fhBEY/q1agxRlxf","DataConfig"),Object.defineProperty(i,"__esModule",{value:!0});var o={getProfitAbility:function(e){return 1==e?4.35:4.35*Math.pow(2.1,e-1)},getInitPrice:function(e){return 1==e?100:2==e?1500:3==e?6750:6750*Math.pow(2.66,e-3)},getPrice:function(e,t){var i=this.getInitPrice(e);return t?1==t?i*Math.pow(1.07,t-1):i*Math.pow(1.75,t-1):i}};i.default={composeData:{maxLv:1,coins:0,coinPerSecond:0,buyTimes:{},chairList:{},leave_timeStamp:null},composeConfig:o},cc._RF.pop()},{}],EventManager:[function(e,t,i){"use strict";cc._RF.push(t,"1d3affERU9Lk4ueA2OVxC65","EventManager"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(){}return e.dispatchEvent=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=this.eventList[e];o&&o.forEach(function(e){e[0].apply(e[1],t)})},e.addEventListener=function(e,t,i){var o=this.eventList[e];o?o.forEach(function(e){e[0]!=t||e[1]}):(o=[],this.eventList[e]=o),o.push([t,i])},e.removeEventListener=function(e,t,i){var o=this.eventList[e];if(o)for(var n=o.length-1;n>=0;n--)o[n][0]==t&&o[n][1]==i&&o.splice(n,1);o&&0==o.length&&(this.eventList[e]=null,delete this.eventList[e])},e.eventList={},e}();i.default=o,cc._RF.pop()},{}],MainCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"9cafcJOM3NFw4wn68tYmopZ","MainCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.composeViewOpened=!1,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.composeViewOpen=function(){var e=this;this.composeViewOpened||(this.composeViewOpened=!0,cc.loader.loadRes("composeView",function(t,i){var o={composeData:JSON.parse(cc.sys.localStorage.getItem("composeData")),parent:cc.find("Canvas"),onOpened:function(){console.log("\u5408\u6210\u9875\u9762\u5df2\u6253\u5f00")},onClosed:function(t){console.log("\u5408\u6210\u9875\u9762\u5df2\u5173\u95ed",t),e.composeViewOpened=!1}},n=cc.instantiate(i);n.getComponent(n.name+"Ctrl").open(o)}))},t=__decorate([n],t)}(cc.Component));i.default=s,cc._RF.pop()},{}],MathUtil:[function(e,t,i){"use strict";cc._RF.push(t,"4e9afucJYhOi7PqwViIdHA/","MathUtil"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./bignumber.min"),n={Units:{},UnitsArr:["K","M","B","T","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],multipy:function(e,t){return new o.default(e).multipliedBy(new o.default(t))},GreaterThan:function(e,t){return new o.default(e).gt(new o.default(t))},plus:function(e,t){return new o.default(e).plus(new o.default(t))},minus:function(e,t){return new o.default(e).minus(new o.default(t))},toString:function(e){return new o.default(e).toString()},showUnits:function(e){if((e=new o.default(e)).lt(1e6))return(e=e.toString()).indexOf(".")>=0&&(e=e.match(/\d+/)[0]),e.toString();var t=(e=e.toString()).match(/\d+/)[0],i=new o.default(t.length).toString(),s=n.plus(i,1).idiv(3).toString(),r=new o.default(s).multipliedBy(3).toString(),c=new o.default(10).exponentiatedBy(r),a=new o.default(e).div(c).toString(),l=n.UnitsArr[s-2];return a.indexOf(".")>=0&&(a=a.match(/\d+\.\d{1,2}/)[0]),a+l}};i.default=n,cc._RF.pop()},{"./bignumber.min":"bignumber.min"}],ResConfig:[function(e,t,i){"use strict";cc._RF.push(t,"f068eEQEQlNbbgmtfoYdtdA","ResConfig"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(){}return e.static="compose/res/peopleState/",e.dragonBones="compose/res/dragonBones/",e.list=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],e}();i.default=o,cc._RF.pop()},{}],ScrollViewBetter:[function(e,t,i){"use strict";cc._RF.push(t,"c5ce67JdbZK+Yb2kiIqNvuV","ScrollViewBetter"),cc.Class({extends:cc.Component,properties:{itemVertical:cc.Prefab,itemHeight:120,itemHorizontal:cc.Prefab,itemWidth:100,content:cc.Node,scrollView:cc.Node,maskNode:cc.Node,vertical:!0,scrollTop:!0,scrollLeft:!0},createList:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.node.on("scrolling",function(e){t.updateItemsPos()}),this.content.height=e.length*this.itemHeight,this.content.width=e.length*this.itemWidth,this.topIndex=i,this.maskNodeWorldPos=this.maskNode.convertToWorldSpaceAR(cc.v2(0,0)),this.maskNodeHalfHeight=this.maskNode.height/2,this.maskNodeHalfWidth=this.maskNode.width/2;var o=0;if(this.vertical){var n=(this.content.height-this.maskNode.height)/2;this.content.y=this.scrollTop?-n:n,this.itemPrefab=this.itemVertical,o=this.maskNode.height/this.itemHeight}else{var s=(this.content.width-this.maskNode.width)/2;this.content.x=this.scrollLeft?s:-s,this.itemPrefab=this.itemHorizontal,o=this.maskNode.width/this.itemWidth}this.data=e,this.itemsArr=[],o*=2;for(var r=0;r<o;r++){var c=cc.instantiate(this.itemPrefab);c.parent=this.content,this.updateItem(c,this.data[r],r)}this.lastIndex=i+o-1},updateItem:function(e,t,i){this.itemsArr[i]=e,this.vertical?this.scrollTop?e.y=this.content.height/2-(i*this.itemHeight+this.itemHeight/2):e.y=-(this.content.height/2-(i*this.itemHeight+this.itemHeight/2)):this.scrollLeft?e.x=-(this.content.width/2-(i*this.itemWidth+this.itemWidth/2)):e.x=this.content.width/2-(i*this.itemWidth+this.itemWidth/2),e.getComponent(e.name+"Ctrl").render(t)},updateItemsPos:function(){if(this.itemsArr&&this.itemsArr[this.lastIndex]){var e=this.itemsArr[this.topIndex].convertToWorldSpaceAR(cc.v2(0,0)),t=this.itemsArr[this.lastIndex].convertToWorldSpaceAR(cc.v2(0,0)),i=!1,o=!1;if(this.vertical?this.scrollTop?(i=e.y>=this.maskNodeWorldPos.y+this.maskNodeHalfHeight+this.itemsArr[this.topIndex].height,o=t.y<=this.maskNodeWorldPos.y-this.maskNodeHalfHeight-this.itemsArr[this.topIndex].height):(i=e.y<=this.maskNodeWorldPos.y-this.maskNodeHalfHeight-this.itemsArr[this.topIndex].height,o=t.y>=this.maskNodeWorldPos.y+this.maskNodeHalfHeight+this.itemsArr[this.topIndex].height):this.scrollLeft?(i=e.x<this.maskNodeWorldPos.x-this.maskNodeHalfWidth-this.itemsArr[this.topIndex].width,o=t.x>this.maskNodeWorldPos.x+this.maskNodeHalfWidth+this.itemsArr[this.topIndex].width):(i=e.x>this.maskNodeWorldPos.x+this.maskNodeHalfWidth+this.itemsArr[this.topIndex].width,o=t.x<this.maskNodeWorldPos.x-this.maskNodeHalfWidth-this.itemsArr[this.topIndex].width),i){if(this.lastIndex>=this.data.length-1)return;this.updateItem(this.itemsArr[this.topIndex],this.data[this.lastIndex+1],this.lastIndex+1),this.topIndex++,this.lastIndex++}else if(o){if(this.topIndex<1)return;this.updateItem(this.itemsArr[this.lastIndex],this.data[this.topIndex-1],this.topIndex-1),this.topIndex--,this.lastIndex--}}},onBtnClk:function(){this.node.destroy()}}),cc._RF.pop()},{}],"bignumber.min":[function(e,t,i){"use strict";cc._RF.push(t,"eaa20sLba1OdJVbw6KA/ve8","bignumber.min");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var i,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,r=Math.floor,c="[BigNumber Error] ",a=c+"Number primitive has more than 15 significant digits: ",l=1e14,h=14,p=9007199254740991,u=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,f=1e9;function m(e){var t=0|e;return 0<e||e===t?t:t-1}function v(e){for(var t,i,o=1,n=e.length,s=e[0]+"";o<n;){for(t=e[o++]+"",i=h-t.length;i--;t="0"+t);s+=t}for(n=s.length;48===s.charCodeAt(--n););return s.slice(0,n+1||1)}function g(e,t){var i,o,n=e.c,s=t.c,r=e.s,c=t.s,a=e.e,l=t.e;if(!r||!c)return null;if(i=n&&!n[0],o=s&&!s[0],i||o)return i?o?0:-c:r;if(r!=c)return r;if(i=r<0,o=a==l,!n||!s)return o?0:!n^i?1:-1;if(!o)return l<a^i?1:-1;for(c=(a=n.length)<(l=s.length)?a:l,r=0;r<c;r++)if(n[r]!=s[r])return n[r]>s[r]^i?1:-1;return a==l?0:l<a^i?1:-1}function y(e,t,i,o){if(e<t||i<e||e!==r(e))throw Error(c+(o||"Argument")+("number"==typeof e?e<t||i<e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function w(e){var t=e.c.length-1;return m(e.e/h)==t&&e.c[t]%2!=0}function _(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function C(e,t,i){var o,n;if(t<0){for(n=i+".";++t;n+=i);e=n+e}else if(++t>(o=e.length)){for(n=i,t-=o;--t;n+=i);e+=n}else t<o&&(e=e.slice(0,t)+"."+e.slice(t));return e}(i=function e(t){var i,L,x,P,b,S,N,A,B,D,E=q.prototype={constructor:q,toString:null,valueOf:null},T=new q(1),O=20,R=4,I=-7,M=21,U=-1e7,k=1e7,F=!1,V=1,H=0,W={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz";function q(e,t){var i,o,s,c,l,u,d,f,m=this;if(!(m instanceof q))return new q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>k?m.c=m.e=null:e.e<U?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((u="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,l=e;10<=l;l/=10,c++);return void(m.c=k<c?m.e=null:(m.e=c,[e]))}f=String(e)}else{if(!n.test(f=String(e)))return x(m,f,u);m.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}-1<(c=f.indexOf("."))&&(f=f.replace(".","")),0<(l=f.search(/e/i))?(c<0&&(c=l),c+=+f.slice(l+1),f=f.substring(0,l)):c<0&&(c=f.length)}else{if(y(t,2,j.length,"Base"),10==t)return $(m=new q(e),O+m.e+1,R);if(f=String(e),u="number"==typeof e){if(0*e!=0)return x(m,f,u,t);if(m.s=1/e<0?(f=f.slice(1),-1):1,q.DEBUG&&15<f.replace(/^0\.0*|\./,"").length)throw Error(a+e)}else m.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(i=j.slice(0,t),c=l=0,d=f.length;l<d;l++)if(i.indexOf(o=f.charAt(l))<0){if("."==o){if(c<l){c=d;continue}}else if(!s&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){s=!0,l=-1,c=0;continue}return x(m,String(e),u,t)}u=!1,-1<(c=(f=L(f,t,10,m.s)).indexOf("."))?f=f.replace(".",""):c=f.length}for(l=0;48===f.charCodeAt(l);l++);for(d=f.length;48===f.charCodeAt(--d););if(f=f.slice(l,++d)){if(d-=l,u&&q.DEBUG&&15<d&&(p<e||e!==r(e)))throw Error(a+m.s*e);if((c=c-l-1)>k)m.c=m.e=null;else if(c<U)m.c=[m.e=0];else{if(m.e=c,m.c=[],l=(c+1)%h,c<0&&(l+=h),l<d){for(l&&m.c.push(+f.slice(0,l)),d-=h;l<d;)m.c.push(+f.slice(l,l+=h));l=h-(f=f.slice(l)).length}else l-=d;for(;l--;f+="0");m.c.push(+f)}}else m.c=[m.e=0]}function z(e,t,i,o){var n,s,r,c,a;if(null==i?i=R:y(i,0,8),!e.c)return e.toString();if(n=e.c[0],r=e.e,null==t)a=v(e.c),a=1==o||2==o&&(r<=I||M<=r)?_(a,r):C(a,r,"0");else if(s=(e=$(new q(e),t,i)).e,c=(a=v(e.c)).length,1==o||2==o&&(t<=s||s<=I)){for(;c<t;a+="0",c++);a=_(a,s)}else if(t-=r,a=C(a,s,"0"),c<s+1){if(0<--t)for(a+=".";t--;a+="0");}else if(0<(t+=s-c))for(s+1==c&&(a+=".");t--;a+="0");return e.s<0&&n?"-"+a:a}function G(e,t){for(var i,o=1,n=new q(e[0]);o<e.length;o++){if(!(i=new q(e[o])).s){n=i;break}t.call(n,i)&&(n=i)}return n}function J(e,t,i){for(var o=1,n=t.length;!t[--n];t.pop());for(n=t[0];10<=n;n/=10,o++);return(i=o+i*h-1)>k?e.c=e.e=null:e.c=i<U?[e.e=0]:(e.e=i,t),e}function $(e,t,i,o){var n,c,a,p,d,f,m,v=e.c,g=u;if(v){e:{for(n=1,p=v[0];10<=p;p/=10,n++);if((c=t-n)<0)c+=h,a=t,m=(d=v[f=0])/g[n-a-1]%10|0;else if((f=s((c+1)/h))>=v.length){if(!o)break e;for(;v.length<=f;v.push(0));d=m=0,a=(c%=h)-h+(n=1)}else{for(d=p=v[f],n=1;10<=p;p/=10,n++);m=(a=(c%=h)-h+n)<0?0:d/g[n-a-1]%10|0}if(o=o||t<0||null!=v[f+1]||(a<0?d:d%g[n-a-1]),o=i<4?(m||o)&&(0==i||i==(e.s<0?3:2)):5<m||5==m&&(4==i||o||6==i&&(0<c?0<a?d/g[n-a]:0:v[f-1])%10&1||i==(e.s<0?8:7)),t<1||!v[0])return v.length=0,o?(t-=e.e+1,v[0]=g[(h-t%h)%h],e.e=-t||0):v[0]=e.e=0,e;if(0==c?(v.length=f,p=1,f--):(v.length=f+1,p=g[h-c],v[f]=0<a?r(d/g[n-a]%g[a])*p:0),o)for(;;){if(0==f){for(c=1,a=v[0];10<=a;a/=10,c++);for(a=v[0]+=p,p=1;10<=a;a/=10,p++);c!=p&&(e.e++,v[0]==l&&(v[0]=1));break}if(v[f]+=p,v[f]!=l)break;v[f--]=0,p=1}for(c=v.length;0===v[--c];v.pop());}e.e>k?e.c=e.e=null:e.e<U&&(e.c=[e.e=0])}return e}function Y(e){var t,i=e.e;return null===i?e.toString():(t=v(e.c),t=i<=I||M<=i?_(t,i):C(t,i,"0"),e.s<0?"-"+t:t)}return q.clone=e,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(e){var t,i;if(null!=e){if("object"!=(void 0===e?"undefined":o(e)))throw Error(c+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(i=e[t],0,f,t),O=i),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(i=e[t],0,8,t),R=i),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((i=e[t])&&i.pop?(y(i[0],-f,0,t),y(i[1],0,f,t),I=i[0],M=i[1]):(y(i,-f,f,t),I=-(M=i<0?-i:i))),e.hasOwnProperty(t="RANGE"))if((i=e[t])&&i.pop)y(i[0],-f,-1,t),y(i[1],1,f,t),U=i[0],k=i[1];else{if(y(i,-f,f,t),!i)throw Error(c+t+" cannot be zero: "+i);U=-(k=i<0?-i:i)}if(e.hasOwnProperty(t="CRYPTO")){if((i=e[t])!==!!i)throw Error(c+t+" not true or false: "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw F=!i,Error(c+"crypto unavailable");F=i}else F=i}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(i=e[t],0,9,t),V=i),e.hasOwnProperty(t="POW_PRECISION")&&(y(i=e[t],0,f,t),H=i),e.hasOwnProperty(t="FORMAT")){if("object"!=o(i=e[t]))throw Error(c+t+" not an object: "+i);W=i}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(i=e[t])||/^.$|[+-.\s]|(.).*\1/.test(i))throw Error(c+t+" invalid: "+i);j=i}}return{DECIMAL_PLACES:O,ROUNDING_MODE:R,EXPONENTIAL_AT:[I,M],RANGE:[U,k],CRYPTO:F,MODULO_MODE:V,POW_PRECISION:H,FORMAT:W,ALPHABET:j}},q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!q.DEBUG)return!0;var t,i,o=e.c,n=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(o)){if((1===s||-1===s)&&-f<=n&&n<=f&&n===r(n)){if(0===o[0]){if(0===n&&1===o.length)return!0;break e}if((t=(n+1)%h)<1&&(t+=h),String(o[0]).length==t){for(t=0;t<o.length;t++)if((i=o[t])<0||l<=i||i!==r(i))break e;if(0!==i)return!0}}}else if(null===o&&null===n&&(null===s||1===s||-1===s))return!0;throw Error(c+"Invalid BigNumber: "+e)},q.maximum=q.max=function(){return G(arguments,E.lt)},q.minimum=q.min=function(){return G(arguments,E.gt)},q.random=(P=9007199254740992,b=Math.random()*P&2097151?function(){return r(Math.random()*P)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,i,o,n,a,l=0,p=[],d=new q(T);if(null==e?e=O:y(e,0,f),n=s(e/h),F)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(n*=2));l<n;)9e15<=(a=131072*t[l]+(t[l+1]>>>11))?(i=crypto.getRandomValues(new Uint32Array(2)),t[l]=i[0],t[l+1]=i[1]):(p.push(a%1e14),l+=2);l=n/2}else{if(!crypto.randomBytes)throw F=!1,Error(c+"crypto unavailable");for(t=crypto.randomBytes(n*=7);l<n;)9e15<=(a=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])?crypto.randomBytes(7).copy(t,l):(p.push(a%1e14),l+=7);l=n/7}if(!F)for(;l<n;)(a=b())<9e15&&(p[l++]=a%1e14);for(n=p[--l],e%=h,n&&e&&(a=u[h-e],p[l]=r(n/a)*a);0===p[l];p.pop(),l--);if(l<0)p=[o=0];else{for(o=-1;0===p[0];p.splice(0,1),o-=h);for(l=1,a=p[0];10<=a;a/=10,l++);l<h&&(o-=h-l)}return d.e=o,d.c=p,d}),q.sum=function(){for(var e=1,t=arguments,i=new q(t[0]);e<t.length;)i=i.plus(t[e++]);return i},L=function(){var e="0123456789";function t(e,t,i,o){for(var n,s,r=[0],c=0,a=e.length;c<a;){for(s=r.length;s--;r[s]*=t);for(r[0]+=o.indexOf(e.charAt(c++)),n=0;n<r.length;n++)r[n]>i-1&&(null==r[n+1]&&(r[n+1]=0),r[n+1]+=r[n]/i|0,r[n]%=i)}return r.reverse()}return function(o,n,s,r,c){var a,l,h,p,u,d,f,m,g=o.indexOf("."),y=O,w=R;for(0<=g&&(p=H,H=0,o=o.replace(".",""),d=(m=new q(n)).pow(o.length-g),H=p,m.c=t(C(v(d.c),d.e,"0"),10,s,e),m.e=m.c.length),h=p=(f=t(o,n,s,c?(a=j,e):(a=e,j))).length;0==f[--p];f.pop());if(!f[0])return a.charAt(0);if(g<0?--h:(d.c=f,d.e=h,d.s=r,f=(d=i(d,m,y,w,s)).c,u=d.r,h=d.e),g=f[l=h+y+1],p=s/2,u=u||l<0||null!=f[l+1],u=w<4?(null!=g||u)&&(0==w||w==(d.s<0?3:2)):p<g||g==p&&(4==w||u||6==w&&1&f[l-1]||w==(d.s<0?8:7)),l<1||!f[0])o=u?C(a.charAt(1),-y,a.charAt(0)):a.charAt(0);else{if(f.length=l,u)for(--s;++f[--l]>s;)f[l]=0,l||(++h,f=[1].concat(f));for(p=f.length;!f[--p];);for(g=0,o="";g<=p;o+=a.charAt(f[g++]));o=C(o,h,a.charAt(0))}return o}}(),i=function(){function e(e,t,i){var o,n,s,r,c=0,a=e.length,l=t%d,h=t/d|0;for(e=e.slice();a--;)c=((n=l*(s=e[a]%d)+(o=h*s+(r=e[a]/d|0)*l)%d*d+c)/i|0)+(o/d|0)+h*r,e[a]=n%i;return c&&(e=[c].concat(e)),e}function t(e,t,i,o){var n,s;if(i!=o)s=o<i?1:-1;else for(n=s=0;n<i;n++)if(e[n]!=t[n]){s=e[n]>t[n]?1:-1;break}return s}function i(e,t,i,o){for(var n=0;i--;)e[i]-=n,n=e[i]<t[i]?1:0,e[i]=n*o+e[i]-t[i];for(;!e[0]&&1<e.length;e.splice(0,1));}return function(o,n,s,c,a){var p,u,d,f,v,g,y,w,_,C,L,x,P,b,S,N,A,B=o.s==n.s?1:-1,D=o.c,E=n.c;if(!(D&&D[0]&&E&&E[0]))return new q(o.s&&n.s&&(D?!E||D[0]!=E[0]:E)?D&&0==D[0]||!E?0*B:B/0:NaN);for(_=(w=new q(B)).c=[],B=s+(u=o.e-n.e)+1,a||(a=l,u=m(o.e/h)-m(n.e/h),B=B/h|0),d=0;E[d]==(D[d]||0);d++);if(E[d]>(D[d]||0)&&u--,B<0)_.push(1),f=!0;else{for(b=D.length,N=E.length,B+=2,1<(v=r(a/(E[d=0]+1)))&&(E=e(E,v,a),D=e(D,v,a),N=E.length,b=D.length),P=N,L=(C=D.slice(0,N)).length;L<N;C[L++]=0);A=E.slice(),A=[0].concat(A),S=E[0],E[1]>=a/2&&S++;do{if(v=0,(p=t(E,C,N,L))<0){if(x=C[0],N!=L&&(x=x*a+(C[1]||0)),1<(v=r(x/S)))for(a<=v&&(v=a-1),y=(g=e(E,v,a)).length,L=C.length;1==t(g,C,y,L);)v--,i(g,N<y?A:E,y,a),y=g.length,p=1;else 0==v&&(p=v=1),y=(g=E.slice()).length;if(y<L&&(g=[0].concat(g)),i(C,g,L,a),L=C.length,-1==p)for(;t(E,C,N,L)<1;)v++,i(C,N<L?A:E,L,a),L=C.length}else 0===p&&(v++,C=[0]);_[d++]=v,C[0]?C[L++]=D[P]||0:(C=[D[P]],L=1)}while((P++<b||null!=C[0])&&B--);f=null!=C[0],_[0]||_.splice(0,1)}if(a==l){for(d=1,B=_[0];10<=B;B/=10,d++);$(w,s+(w.e=d+u*h-1)+1,c,f)}else w.e=u,w.r=+f;return w}}(),S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,A=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,D=/^\s*\+(?=[\w.])|^\s+|\s+$/g,x=function(e,t,i,o){var n,s=i?t:t.replace(D,"");if(B.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!i&&(s=s.replace(S,function(e,t,i){return n="x"==(i=i.toLowerCase())?16:"b"==i?2:8,o&&o!=n?e:t}),o&&(n=o,s=s.replace(N,"$1").replace(A,"0.$1")),t!=s))return new q(s,n);if(q.DEBUG)throw Error(c+"Not a"+(o?" base "+o:"")+" number: "+t);e.s=null}e.c=e.e=null},E.absoluteValue=E.abs=function(){var e=new q(this);return e.s<0&&(e.s=1),e},E.comparedTo=function(e,t){return g(this,new q(e,t))},E.decimalPlaces=E.dp=function(e,t){var i,o,n;if(null!=e)return y(e,0,f),null==t?t=R:y(t,0,8),$(new q(this),e+this.e+1,t);if(!(i=this.c))return null;if(o=((n=i.length-1)-m(this.e/h))*h,n=i[n])for(;n%10==0;n/=10,o--);return o<0&&(o=0),o},E.dividedBy=E.div=function(e,t){return i(this,new q(e,t),O,R)},E.dividedToIntegerBy=E.idiv=function(e,t){return i(this,new q(e,t),0,1)},E.exponentiatedBy=E.pow=function(e,t){var i,o,n,a,l,p,u,d,f=this;if((e=new q(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+Y(e));if(null!=t&&(t=new q(t)),l=14<e.e,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return d=new q(Math.pow(+Y(f),l?2-w(e):+Y(e))),t?d.mod(t):d;if(p=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new q(NaN);(o=!p&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(9<e.e&&(0<f.e||f.e<-1||(0==f.e?1<f.c[0]||l&&24e7<=f.c[1]:f.c[0]<8e13||l&&f.c[0]<=9999975e7)))return a=f.s<0&&w(e)?-0:0,-1<f.e&&(a=1/a),new q(p?1/a:a);H&&(a=s(H/h+2))}for(u=l?(i=new q(.5),p&&(e.s=1),w(e)):(n=Math.abs(+Y(e)))%2,d=new q(T);;){if(u){if(!(d=d.times(f)).c)break;a?d.c.length>a&&(d.c.length=a):o&&(d=d.mod(t))}if(n){if(0===(n=r(n/2)))break;u=n%2}else if($(e=e.times(i),e.e+1,1),14<e.e)u=w(e);else{if(0==(n=+Y(e)))break;u=n%2}f=f.times(f),a?f.c&&f.c.length>a&&(f.c.length=a):o&&(f=f.mod(t))}return o?d:(p&&(d=T.div(d)),t?d.mod(t):a?$(d,H,R,void 0):d)},E.integerValue=function(e){var t=new q(this);return null==e?e=R:y(e,0,8),$(t,t.e+1,e)},E.isEqualTo=E.eq=function(e,t){return 0===g(this,new q(e,t))},E.isFinite=function(){return!!this.c},E.isGreaterThan=E.gt=function(e,t){return 0<g(this,new q(e,t))},E.isGreaterThanOrEqualTo=E.gte=function(e,t){return 1===(t=g(this,new q(e,t)))||0===t},E.isInteger=function(){return!!this.c&&m(this.e/h)>this.c.length-2},E.isLessThan=E.lt=function(e,t){return g(this,new q(e,t))<0},E.isLessThanOrEqualTo=E.lte=function(e,t){return-1===(t=g(this,new q(e,t)))||0===t},E.isNaN=function(){return!this.s},E.isNegative=function(){return this.s<0},E.isPositive=function(){return 0<this.s},E.isZero=function(){return!!this.c&&0==this.c[0]},E.minus=function(e,t){var i,o,n,s,r=this,c=r.s;if(t=(e=new q(e,t)).s,!c||!t)return new q(NaN);if(c!=t)return e.s=-t,r.plus(e);var a=r.e/h,p=e.e/h,u=r.c,d=e.c;if(!a||!p){if(!u||!d)return u?(e.s=-t,e):new q(d?r:NaN);if(!u[0]||!d[0])return d[0]?(e.s=-t,e):new q(u[0]?r:3==R?-0:0)}if(a=m(a),p=m(p),u=u.slice(),c=a-p){for((n=(s=c<0)?(c=-c,u):(p=a,d)).reverse(),t=c;t--;n.push(0));n.reverse()}else for(o=(s=(c=u.length)<(t=d.length))?c:t,c=t=0;t<o;t++)if(u[t]!=d[t]){s=u[t]<d[t];break}if(s&&(n=u,u=d,d=n,e.s=-e.s),0<(t=(o=d.length)-(i=u.length)))for(;t--;u[i++]=0);for(t=l-1;c<o;){if(u[--o]<d[o]){for(i=o;i&&!u[--i];u[i]=t);--u[i],u[o]+=l}u[o]-=d[o]}for(;0==u[0];u.splice(0,1),--p);return u[0]?J(e,u,p):(e.s=3==R?-1:1,e.c=[e.e=0],e)},E.modulo=E.mod=function(e,t){var o,n,s=this;return e=new q(e,t),!s.c||!e.s||e.c&&!e.c[0]?new q(NaN):!e.c||s.c&&!s.c[0]?new q(s):(9==V?(n=e.s,e.s=1,o=i(s,e,0,3),e.s=n,o.s*=n):o=i(s,e,0,V),(e=s.minus(o.times(e))).c[0]||1!=V||(e.s=s.s),e)},E.multipliedBy=E.times=function(e,t){var i,o,n,s,r,c,a,p,u,f,v,g,y,w,_,C=this,L=C.c,x=(e=new q(e,t)).c;if(!(L&&x&&L[0]&&x[0]))return!C.s||!e.s||L&&!L[0]&&!x||x&&!x[0]&&!L?e.c=e.e=e.s=null:(e.s*=C.s,L&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(o=m(C.e/h)+m(e.e/h),e.s*=C.s,(a=L.length)<(f=x.length)&&(y=L,L=x,x=y,n=a,a=f,f=n),n=a+f,y=[];n--;y.push(0));for(w=l,_=d,n=f;0<=--n;){for(i=0,v=x[n]%_,g=x[n]/_|0,s=n+(r=a);n<s;)i=((p=v*(p=L[--r]%_)+(c=g*p+(u=L[r]/_|0)*v)%_*_+y[s]+i)/w|0)+(c/_|0)+g*u,y[s--]=p%w;y[s]=i}return i?++o:y.splice(0,1),J(e,y,o)},E.negated=function(){var e=new q(this);return e.s=-e.s||null,e},E.plus=function(e,t){var i,o=this,n=o.s;if(t=(e=new q(e,t)).s,!n||!t)return new q(NaN);if(n!=t)return e.s=-t,o.minus(e);var s=o.e/h,r=e.e/h,c=o.c,a=e.c;if(!s||!r){if(!c||!a)return new q(n/0);if(!c[0]||!a[0])return a[0]?e:new q(c[0]?o:0*n)}if(s=m(s),r=m(r),c=c.slice(),n=s-r){for((i=0<n?(r=s,a):(n=-n,c)).reverse();n--;i.push(0));i.reverse()}for((n=c.length)-(t=a.length)<0&&(i=a,a=c,c=i,t=n),n=0;t;)n=(c[--t]=c[t]+a[t]+n)/l|0,c[t]=l===c[t]?0:c[t]%l;return n&&(c=[n].concat(c),++r),J(e,c,r)},E.precision=E.sd=function(e,t){var i,o,n;if(null!=e&&e!==!!e)return y(e,1,f),null==t?t=R:y(t,0,8),$(new q(this),e,t);if(!(i=this.c))return null;if(o=(n=i.length-1)*h+1,n=i[n]){for(;n%10==0;n/=10,o--);for(n=i[0];10<=n;n/=10,o++);}return e&&this.e+1>o&&(o=this.e+1),o},E.shiftedBy=function(e){return y(e,-p,p),this.times("1e"+e)},E.squareRoot=E.sqrt=function(){var e,t,o,n,s,r=this,c=r.c,a=r.s,l=r.e,h=O+4,p=new q("0.5");if(1!==a||!c||!c[0])return new q(!a||a<0&&(!c||c[0])?NaN:c?r:1/0);if((o=0==(a=Math.sqrt(+Y(r)))||a==1/0?(((t=v(c)).length+l)%2==0&&(t+="0"),a=Math.sqrt(+t),l=m((l+1)/2)-(l<0||l%2),new q(t=a==1/0?"1e"+l:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+l)):new q(a+"")).c[0])for((a=(l=o.e)+h)<3&&(a=0);;)if(s=o,o=p.times(s.plus(i(r,s,h,1))),v(s.c).slice(0,a)===(t=v(o.c)).slice(0,a)){if(o.e<l&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||($(o,o.e+O+2,1),e=!o.times(o).eq(r));break}if(!n&&($(s,s.e+O+2,0),s.times(s).eq(r))){o=s;break}h+=4,a+=4,n=1}return $(o,o.e+O+1,R,e)},E.toExponential=function(e,t){return null!=e&&(y(e,0,f),e++),z(this,e,t,1)},E.toFixed=function(e,t){return null!=e&&(y(e,0,f),e=e+this.e+1),z(this,e,t)},E.toFormat=function(e,t,i){var n;if(null==i)null!=e&&t&&"object"==(void 0===t?"undefined":o(t))?(i=t,t=null):e&&"object"==(void 0===e?"undefined":o(e))?(i=e,e=t=null):i=W;else if("object"!=(void 0===i?"undefined":o(i)))throw Error(c+"Argument not an object: "+i);if(n=this.toFixed(e,t),this.c){var s,r=n.split("."),a=+i.groupSize,l=+i.secondaryGroupSize,h=i.groupSeparator||"",p=r[0],u=r[1],d=this.s<0,f=d?p.slice(1):p,m=f.length;if(l&&(s=a,a=l,m-=l=s),0<a&&0<m){for(s=m%a||a,p=f.substr(0,s);s<m;s+=a)p+=h+f.substr(s,a);0<l&&(p+=h+f.slice(s)),d&&(p="-"+p)}n=u?p+(i.decimalSeparator||"")+((l=+i.fractionGroupSize)?u.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):u):p}return(i.prefix||"")+n+(i.suffix||"")},E.toFraction=function(e){var t,o,n,s,r,a,l,p,d,f,m,g,y=this,w=y.c;if(null!=e&&(!(l=new q(e)).isInteger()&&(l.c||1!==l.s)||l.lt(T)))throw Error(c+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+Y(l));if(!w)return new q(y);for(t=new q(T),d=o=new q(T),n=p=new q(T),g=v(w),r=t.e=g.length-y.e-1,t.c[0]=u[(a=r%h)<0?h+a:a],e=!e||0<l.comparedTo(t)?0<r?t:d:l,a=k,k=1/0,l=new q(g),p.c[0]=0;f=i(l,t,0,1),1!=(s=o.plus(f.times(n))).comparedTo(e);)o=n,n=s,d=p.plus(f.times(s=d)),p=s,t=l.minus(f.times(s=t)),l=s;return s=i(e.minus(o),n,0,1),p=p.plus(s.times(d)),o=o.plus(s.times(n)),p.s=d.s=y.s,m=i(d,n,r*=2,R).minus(y).abs().comparedTo(i(p,o,r,R).minus(y).abs())<1?[d,n]:[p,o],k=a,m},E.toNumber=function(){return+Y(this)},E.toPrecision=function(e,t){return null!=e&&y(e,1,f),z(this,e,t,2)},E.toString=function(e){var t,i=this,o=i.s,n=i.e;return null===n?o?(t="Infinity",o<0&&(t="-"+t)):t="NaN":(t=null==e?n<=I||M<=n?_(v(i.c),n):C(v(i.c),n,"0"):10===e?C(v((i=$(new q(i),O+n+1,R)).c),i.e,"0"):(y(e,2,j.length,"Base"),L(C(v(i.c),n,"0"),10,e,o,!0)),o<0&&i.c[0]&&(t="-"+t)),t},E.valueOf=E.toJSON=function(){return Y(this)},E._isBigNumber=!0,null!=t&&q.set(t),q}()).default=i.BigNumber=i,"function"==typeof define&&define.amd?define(function(){return i}):void 0!==t&&t.exports?t.exports=i:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=i)}(void 0),cc._RF.pop()},{}],cloudCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"4865edSwHZMPYEKGHnwnNj9","cloudCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./utils/EventManager"),n=cc._decorator,s=n.ccclass,r=n.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=100,t._speedUp=!1,t}return __extends(t,e),t.prototype.onLoad=function(){o.default.addEventListener("speedUp",this.speedUp,this)},t.prototype.speedUp=function(e){this._speedUp=e},t.prototype.onDestroy=function(){o.default.removeEventListener("speedUp",this.speedUp,this)},t.prototype.update=function(e){var t=this.speed;this._speedUp&&(t*=4),this.node.x+=t*e,this.node.x>=700&&(this.node.x=-700)},__decorate([r(cc.Integer)],t.prototype,"speed",void 0),t=__decorate([s],t)}(cc.Component);i.default=c,cc._RF.pop()},{"./utils/EventManager":"EventManager"}],composeViewCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"9bc5cOyVLxJKIXNameVbPds","composeViewCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=o.property,r=e("./config/ResConfig"),c=e("./config/DataConfig"),a=e("./utils/EventManager"),l=e("./utils/MathUtil"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinPerSecond=null,t.coins=null,t.mavLvLabel=null,t.wheel=null,t.chair_prefab=null,t.peopleItem=null,t.scrollviewNode=null,t.composeDragonBoneAnim=null,t.chairsPosList=[{x:.35,y:320.458},{x:97.085,y:300.175},{x:187.578,y:264.289},{x:259.348,y:189.398},{x:293.674,y:108.266},{x:313.957,y:6.85},{x:296.463,y:-88.324},{x:253.775,y:-177.923},{x:185.341,y:-249.246},{x:100.299,y:-290.098},{x:1.706,y:-313.871},{x:-95.87,y:-293.142},{x:-175.328,y:-248.319},{x:-247.316,y:-182.726},{x:-288.706,y:-93.234},{x:-312.198,y:-.386},{x:-303.248,y:94.7},{x:-258.502,y:181.955},{x:-183.553,y:256.904},{x:-105.07,y:304.423}],t.emptyChairList=[],t.chairList={},t.wheelPeopleList={},t.wheel_rotate_speed=3,t.wheel_angle=0,t.people_show_time=1.6,t.people_show_dt=0,t.compose_time=1,t.is_composing=!1,t.compose_dt=0,t.wheelCenterPos=null,t.dropDownLv=1,t.maxLv=1,t.lv2Limit=8,t.dropDownLv_maxLv_dis=7,t.fire=!1,t._p2=null,t._chair=null,t.cfg={composeData:{},parent:cc.find("Canvas"),onOpened:function(){},onClosed:function(e){}},t._speed=200,t.isRecycling=!1,t.isSpeedUp=!1,t}return __extends(t,e),t.prototype.open=function(e){var t=e.composeData,i=void 0===t?this.cfg.composeData:t,o=e.parent,n=void 0===o?this.cfg.parent:o,s=e.onOpened,r=void 0===s?this.cfg.onOpened:s,c=e.onClosed,a=void 0===c?this.cfg.onClosed:c;this.node.parent=n,this.cfg.composeData=i,this.cfg.onOpened=r,this.cfg.onClosed=a,this.cfg.onOpened&&this.cfg.onOpened(),this.init()},t.prototype.saveData=function(){for(var e in c.default.composeData.maxLv=this.maxLv,this.chairList)this.chairList[e]||delete this.chairList[e];c.default.composeData.chairList=this.chairList,c.default.composeData.leave_timeStamp=Date.now(),cc.sys.localStorage.setItem("composeData",JSON.stringify(c.default.composeData))},t.prototype.calculateOffLine=function(){if(c.default.composeData.leave_timeStamp){var e=(Date.now()-c.default.composeData.leave_timeStamp)/1e3,t=l.default.multipy(c.default.composeData.coinPerSecond,e);c.default.composeData.coins=l.default.plus(c.default.composeData.coins,t).toString()}},t.prototype.init=function(){var e=this;this.cfg.composeData&&Object.assign(c.default.composeData,this.cfg.composeData),window.wx&&window.wx.onHide(function(){e.saveData()}),cc.debug.setDisplayStats(!1),this.createPeoplePool(),this.chairList=c.default.composeData.chairList,this.emptyChairList=[],this.maxLv=c.default.composeData.maxLv,this.calculateOffLine();var t=cc.instantiate(this.chair_prefab);this.chairsPosList.forEach(function(i,o){var n=cc.instantiate(t);if(n.parent=e.wheel,n.setPosition(i.x,i.y),n.id=o,e.chairList[o]){var s=e.chairList[o],r=e.getPeopleItem(s);r.node.parent=n,r.showSkeType(),r.startCoin(),e.wheelPeopleList[s]||(e.wheelPeopleList[s]=[]),e.wheelPeopleList[s].push(r.node)}else e.chairList[o]=null,e.emptyChairList.push(o)}),this.wheelCenterPos=this.wheel.convertToWorldSpaceAR(cc.v2(0,0)),this.fire=!0,this.composeDragonBoneAnim.addEventListener(dragonBones.EventObject.COMPLETE,this.composeDragonBoneAnimComplete,this),this.registerEvents(),this.setUiData(),this.scheduleOnce(function(){var t=[];r.default.list.forEach(function(e,i){t.push({lv:e,id:i})}),e.scrollviewNode.getComponent("ScrollViewBetter").createList(t)}),this.schedule(function(){c.default.composeData.coins=l.default.plus(c.default.composeData.coins,c.default.composeData.coinPerSecond).toString()},1)},t.prototype.createPeoplePool=function(){this.peoplePool=new cc.NodePool;for(var e=0;e<20;++e){var t=cc.instantiate(this.peopleItem);this.peoplePool.put(t)}},t.prototype.registerEvents=function(){a.default.addEventListener("buyPeople",this.createPeopleByBuy,this),a.default.addEventListener("createPeopleByTimerSuccess",this.createPeopleByTimerSuccess,this),a.default.addEventListener("createPeopleByComposeSuccess",this.createPeopleByComposeSuccess,this),a.default.addEventListener("dropDownedByCreateTimer",this.dropDownedByCreateTimer,this),a.default.addEventListener("dropDownedByCreateCompose",this.dropDownedByCreateCompose,this),a.default.addEventListener("calculateCoinPerSecond",this.calculateCoinPerSecond,this),a.default.addEventListener("calculateCoin",this.calculateCoin,this)},t.prototype.setUiData=function(){this.calculateCoin(),this.mavLvLabel.string="\u89d2\u8272\u5e93"+this.maxLv+"\u7ea7",this.checkForCompose()},t.prototype.calculateCoinPerSecond=function(e){var t=this;if(c.default.composeData.coinPerSecond=l.default.plus(c.default.composeData.coinPerSecond,e).toString(),l.default.GreaterThan(e,0)){var i=l.default.showUnits(c.default.composeData.coinPerSecond);this.coinPerSecond.node.scale=1,this.coinPerSecond.string!=i&&this.coinPerSecond.node.runAction(cc.sequence(cc.scaleTo(.3,1.4),cc.callFunc(function(){t.coinPerSecond.string=i}),cc.scaleTo(.2,1)))}this.calculateCoin()},t.prototype.calculateCoin=function(e){var t=this;e&&(c.default.composeData.coins=l.default.plus(c.default.composeData.coins,e).toString());var i=l.default.showUnits(c.default.composeData.coins);this.coins.node.scale=1,this.coins.string!=i&&this.coins.node.runAction(cc.sequence(cc.scaleTo(.3,1.4),cc.callFunc(function(){t.coins.string=i}),cc.scaleTo(.2,1)))},t.prototype.peopleCreateTimer=function(e){if(this.people_show_dt+=e,this.people_show_dt>=this.people_show_time){this.people_show_dt=0;var t=this.findEmptyChair();t&&this.createPeopleByTimer(t)}},t.prototype.wheelRotateAndFixedChairAngleTimer=function(e){var t=this;this.wheel_angle-=this.wheel_rotate_speed*e,this.wheel_angle>=360&&(this.wheel_angle-=360),this.wheel.angle=this.wheel_angle,this.wheel.children.forEach(function(e){return e.angle=-t.wheel_angle})},t.prototype.update=function(e){!this.fire||e>=.5||(this.wheelRotateAndFixedChairAngleTimer(e),this.peopleCreateTimer(e))},t.prototype.getPeopleItem=function(e){if(void 0!=r.default.list[e-1]){var t=null;(t=this.peoplePool.size()>0?this.peoplePool.get():cc.instantiate(this.peopleItem)).lv=e;var i=t.getComponent("peopleCtrl");return i.init(),i.composeViewCtrl=this,i}},t.prototype.createPeopleByBuy=function(e,t,i){var o=this.findEmptyChair();if(o){var n=this.getPeopleItem(e);n&&n.createByBuy(o,t,i)}else console.error("\u8d2d\u4e70\u5931\u8d25\uff0c\u6ca1\u6709\u7a7a\u4f59\u6905\u5b50\u4e86")},t.prototype.createPeopleByCompose=function(e,t){var i=this.getPeopleItem(e);i&&i.createByCompose(t)},t.prototype.findEmptyChair=function(){var e=this.emptyChairList.length;if(e<=0)return!1;var t=Math.floor(Math.random()*e),i=this.emptyChairList.splice(t,1)[0],o=this.wheel.children[i];return o.childrenCount,o},t.prototype.createPeopleByTimer=function(e){var t=this.dropDownLv,i=this.getPeopleItem(t);i&&i.createByTimer(e)},t.prototype.createPeopleByTimerSuccess=function(e,t){var i=e.lv;this.chairList[t.id]=i,this.wheelPeopleList[i]||(this.wheelPeopleList[i]=[]),e.setPosition(cc.v2(0,1e3)),e.parent=this.node,e.getComponent("peopleCtrl").dropDown()},t.prototype.createPeopleByComposeSuccess=function(e,t){var i=e.lv;this.chairList[t.id]=i,this.wheelPeopleList[i]||(this.wheelPeopleList[i]=[]),this.wheelCenterPos=this.wheel.convertToWorldSpaceAR(cc.v2(0,0));var o=this.node.convertToNodeSpaceAR(this.wheelCenterPos);e.setPosition(cc.v2(o.x,o.y-25)),e.parent=this.node,e.active=!1,e.getComponent("peopleCtrl").dropDown(!0)},t.prototype.dropDownedByCreateTimer=function(e,t){var i=e.lv;this.wheelPeopleList[i]||(this.wheelPeopleList[i]=[]),this.wheelPeopleList[e.lv].push(e),this.checkIsLvUp(i),this.is_composing||this.checkForCompose()},t.prototype.dropDownedByCreateCompose=function(e){var t=e.lv;this.wheelPeopleList[t]||(this.wheelPeopleList[t]=[]),this.wheelPeopleList[e.lv].push(e),this.checkIsLvUp(t),this.is_composing=!1,this.checkForCompose()},t.prototype.onDestroy=function(){a.default.removeEventListener("buyPeople",this.createPeopleByBuy,this),a.default.removeEventListener("createPeopleByTimerSuccess",this.createPeopleByTimerSuccess,this),a.default.removeEventListener("createPeopleByComposeSuccess",this.createPeopleByComposeSuccess,this),a.default.removeEventListener("dropDownedByCreateTimer",this.dropDownedByCreateTimer,this),a.default.removeEventListener("dropDownedByCreateCompose",this.dropDownedByCreateCompose,this),a.default.removeEventListener("calculateCoinPerSecond",this.calculateCoinPerSecond,this),a.default.removeEventListener("calculateCoin",this.calculateCoin,this),this.peoplePool.clear()},t.prototype.checkForCompose=function(e){if(!(this.is_composing||this.emptyChairList.length>16)){var t=!1,i={};for(var o in this.wheelPeopleList)if(parseInt(o)<r.default.list[r.default.list.length-1]){var n=this.wheelPeopleList[o];n.length>=2&&(i[o]=n,t=!0)}var s=Object.keys(i);if(t){var c=s.map(function(e){return parseInt(e)});this.peopleCompose(c)}else if(this.emptyChairList.length<=0){var a=0;for(var o in this.wheelPeopleList)a+=this.wheelPeopleList[o].length;a>=20&&this.recycle()}}},t.prototype.recycle=function(){this.isRecycling=!0;var e={};for(var t in this.wheelPeopleList)if(parseInt(t)<r.default.list[r.default.list.length-1]){var i=this.wheelPeopleList[t];i.length&&(e[t]=i)}var o=Object.keys(e).map(function(e){return parseInt(e)}).sort(function(e,t){return e-t}),n=o[0],s=o[1];if(n!=s){var c=this.wheelPeopleList[n].shift(),a=this.wheelPeopleList[s][0],l=c.parent.id;this.recyclingId=l,c.removeFromParent(),c.destroy();var h=a.lv;this.createPeopleByRecycle(h,l)}else console.log("\u65e0\u6cd5\u56de\u6536\uff0c\u5df2\u6ee1\u7ea7")},t.prototype.createPeopleByRecycle=function(e,t){var i=this.getPeopleItem(e),o=this.wheel.children[t];i&&i.createByTimer(o)},t.prototype.rcecycleFinished=function(){this.isRecycling=!1,this.recyclingId=null},t.prototype.peopleCompose=function(e){this.is_composing=!0;var t=Math.max.apply(Math,e),i=this.wheelPeopleList[t],o=i.shift(),n=i.shift();o.getComponent("peopleCtrl").stopCoin(),n.getComponent("peopleCtrl").stopCoin(),this.composeAnim(o,n,t)},t.prototype.composeAnim=function(e,t,i){var o,n,s=this,r=e.parent.id,c=t.parent.id;Math.random()<.5?(o=r,n=c,this.emptyChairList.push(c)):(o=c,n=r,this.emptyChairList.push(r)),this.chairList[n]=null,this.wheelCenterPos=this.wheel.convertToWorldSpaceAR(cc.v2(0,0));var a=e.parent.convertToWorldSpaceAR(e.getPosition()),l=this.wheel.parent.convertToNodeSpaceAR(a);e.parent=this.wheel.parent,e.setPosition(l);var h=2;this.isSpeedUp&&(h=1),e.runAction(cc.sequence(cc.jumpTo(this.compose_time,cc.v2(0,126),80,h),cc.callFunc(function(){e.removeFromParent(),s.peoplePool.put(e)})));var p=t.parent.convertToWorldSpaceAR(t.getPosition()),u=this.wheel.parent.convertToNodeSpaceAR(p);t.parent=this.wheel.parent,t.setPosition(u),t.runAction(cc.sequence(cc.jumpTo(this.compose_time,cc.v2(0,126),80,h),cc.callFunc(function(){t.removeFromParent(),s.peoplePool.put(t),s.composeDragonBoneAnim.node.active=!0,s.composeDragonBoneAnim.playAnimation("dance",1),s.composeSuccess(i,o)})))},t.prototype.composeDragonBoneAnimComplete=function(){this.composeDragonBoneAnim.node.active=!1},t.prototype.composeSuccess=function(e,t){e+=1,this.checkIsLvUp(e);var i=this.wheel.children[t];this.createPeopleByCompose(e,i),this.maxLv>=this.lv2Limit&&(this.dropDownLv=this.maxLv-this.dropDownLv_maxLv_dis)},t.prototype.checkIsLvUp=function(e){e>this.maxLv&&e<=r.default.list[r.default.list.length-1]&&(this.maxLv=e,c.default.composeData.maxLv=this.maxLv,this.mavLvLabel.string="\u89d2\u8272\u5e93"+this.maxLv+"\u7ea7",console.log("%c\u7a81\u7834\u7b49\u7ea7\uff0c\u5f53\u524d\u6700\u9ad8\u5c0f\u4eba\u7b49\u7ea7\u4e3a\uff1a"+this.maxLv," text-shadow: 0 1px 0 #ccc,0 2px 0 #c9c9c9,0 3px 0 #bbb,0 4px 0 #b9b9b9,0 5px 0 #aaa,0 6px 1px rgba(0,0,0,.1),0 0 5px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.3),0 3px 5px rgba(0,0,0,.2),0 5px 10px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.2),0 20px 20px rgba(0,0,0,.15);font-size:5em"),a.default.dispatchEvent("levelUp",this.maxLv))},t.prototype.emigratedBtn=function(){console.log("\u70b9\u51fb\u5f00\u59cb\u95ef\u5173"),this.onClose()},t.prototype.speedUpBtn=function(e){this.isSpeedUp?(e.target.children[0].children[0].getComponent(cc.Label).string="\u52a0\u901f",this.compose_time*=4,this.people_show_time*=4,this.wheel_rotate_speed/=4,this.isSpeedUp=!1):(e.target.children[0].children[0].getComponent(cc.Label).string="\u52a0\u901f\u4e2d\uff01",this.compose_time/=4,this.people_show_time/=4,this.wheel_rotate_speed*=4,this.isSpeedUp=!0),a.default.dispatchEvent("speedUp",this.isSpeedUp)},t.prototype.onClose=function(){this.saveData(),this.cfg.onClosed&&this.cfg.onClosed(c.default.composeData),this.node.destroy()},__decorate([s(cc.Label)],t.prototype,"coinPerSecond",void 0),__decorate([s(cc.Label)],t.prototype,"coins",void 0),__decorate([s(cc.Label)],t.prototype,"mavLvLabel",void 0),__decorate([s(cc.Node)],t.prototype,"wheel",void 0),__decorate([s(cc.Prefab)],t.prototype,"chair_prefab",void 0),__decorate([s(cc.Prefab)],t.prototype,"peopleItem",void 0),__decorate([s(cc.Node)],t.prototype,"scrollviewNode",void 0),__decorate([s(dragonBones.ArmatureDisplay)],t.prototype,"composeDragonBoneAnim",void 0),t=__decorate([n],t)}(cc.Component);i.default=h,cc._RF.pop()},{"./config/DataConfig":"DataConfig","./config/ResConfig":"ResConfig","./utils/EventManager":"EventManager","./utils/MathUtil":"MathUtil"}],grassCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"460853d/XlB150lCrp/dHM/","grassCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./utils/EventManager"),n=cc._decorator,s=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){o.default.addEventListener("speedUp",this.speedUp,this)},t.prototype.speedUp=function(e){e?this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.6,1.1),cc.scaleTo(.3,1)))):(this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.5,1)))},t.prototype.onDestroy=function(){o.default.removeEventListener("speedUp",this.speedUp,this)},t=__decorate([s],t)}(cc.Component));i.default=r,cc._RF.pop()},{"./utils/EventManager":"EventManager"}],peopleCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"2574420dZNGbIvxIdTfJ1zk","peopleCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./config/ResConfig"),n=e("./config/DataConfig"),s=e("./utils/EventManager"),r=e("./utils/MathUtil"),c=cc._decorator,a=c.ccclass,l=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.flyNode=null,t.staticNode=null,t.skeNode=null,t.coinLabel=null,t.coinAni=null,t.chair=null,t.speed=300,t._speed=300,t.flyBack=!1,t.coin_start=!1,t.coin_dt=0,t.coin_timer=5,t.coin=0,t.scaleTime=.5,t.stopThenMoveTime=.5,t.maxMoveStep=10,t}return __extends(t,e),t.prototype.onLoad=function(){s.default.addEventListener("speedUp",this.speedUp,this)},t.prototype.init=function(){this.move=!1,this._speed=this.speed,this.vx=0,this.vy=0,this.isSpeedUp=!1,this.chair=null,this.flyBack=!1,this.coin_dt=0,this.coin=0,this.node.scale=1,this.scaleTime=.5,this.stopThenMoveTime=.5,this.staticNode.active=!1,this.skeNode.active=!1,this.coinAni.stop(),this.stopCoin()},t.prototype.stopMove=function(){this.move=!1,this.vx=0,this.vy=0},t.prototype.speedUp=function(e){this.isSpeedUp=e},t.prototype.createStatic=function(e,t){var i=this;this.chair=e,this.staticNode.active=!0,this.skeNode.active=!1,s.default.dispatchEvent("createPeopleByTimerSuccess",this.node,e),cc.loader.loadRes(o.default.static+this.node.lv+"/js_die",cc.SpriteFrame,function(e,t){i.staticNode.getComponent(cc.Sprite).spriteFrame=t})},t.prototype.createDynamic=function(e){this.chair=e,this.staticNode.active=!1,this.skeNode.active=!0,this.showSkeType(e),s.default.dispatchEvent("createPeopleByComposeSuccess",this.node,e)},t.prototype.createByTimer=function(e){this.createStatic(e)},t.prototype.createByBuy=function(e,t,i){var o=this.node.lv;s.default.dispatchEvent("calculateCoin",-t),n.default.composeData.buyTimes[o]?n.default.composeData.buyTimes[o]+=1:n.default.composeData.buyTimes[o]=1,i.buySuccess(),this.createStatic(e)},t.prototype.createByCompose=function(e){this.createDynamic(e)},t.prototype.dropDown=function(e){var t=this;void 0===e&&(e=!1),e||(this.flyNode.active=!0),this.flyBack=e,this._speed*=e?2:1,e&&(this.node.scale=.5);var i=1;e&&this.composeViewCtrl.isSpeedUp&&(i=1.5,this.scaleTime/=2,this.stopThenMoveTime/=2),this.node.active=!0,this.node.runAction(cc.sequence(cc.scaleTo(this.scaleTime,i),cc.callFunc(function(){t.scheduleOnce(function(){t.move=!0},t.stopThenMoveTime)})))},t.prototype.dropDownUpdate=function(e){var t=this.node.parent.convertToNodeSpaceAR(this.chair.parent.convertToWorldSpaceAR(this.chair.getPosition())),i=this.node.getPosition(),o=t.sub(i),n=o.mag();if(n<=this.maxMoveStep)this.dropDowned();else{var s=this._speed;this.isSpeedUp&&(s*=3),this.vx=s*o.x/n,this.vy=s*o.y/n;var r=this.vx*e,c=this.vy*e;r>this.maxMoveStep&&(r=this.maxMoveStep),c>this.maxMoveStep&&(c=this.maxMoveStep),this.node.x+=r,this.node.y+=c}},t.prototype.dropDowned=function(){var e=this;this.stopMove(),this.node.parent=this.chair,this.node.setPosition(cc.v2(0,-15)),cc.loader.loadRes(o.default.static+this.node.lv+"/js_stand1",cc.SpriteFrame,function(t,i){e.staticNode.getComponent(cc.Sprite).spriteFrame=i,e.flyNode.active=!1,e.skeNode.active||e.showSkeType(),e.startCoin(),e.flyBack?(e.node.scale=1,s.default.dispatchEvent("dropDownedByCreateCompose",e.node,e.flyBack)):s.default.dispatchEvent("dropDownedByCreateTimer",e.node,e.flyBack)})},t.prototype.startCoin=function(){this.coin=n.default.composeConfig.getProfitAbility(this.node.lv),s.default.dispatchEvent("calculateCoinPerSecond",this.coin),this.coin_start=!0},t.prototype.stopCoin=function(){this.coin_start=!1,this.coinLabel.string=""},t.prototype.showSkeType=function(e,t){var i=this;this.staticNode.active=!1,this.skeNode.active=!0;var n=this.skeNode.getComponent(dragonBones.ArmatureDisplay);cc.loader.loadRes(o.default.dragonBones+this.node.lv+"/ske",dragonBones.DragonBonesAsset,function(e,t){n.dragonAsset=t,cc.loader.loadRes(o.default.dragonBones+i.node.lv+"/tex",dragonBones.DragonBonesAtlasAsset,function(e,t){n.dragonAtlasAsset=t,n.armatureName="Armature",n.playAnimation("dance",-1)})})},t.prototype.onDestroy=function(){s.default.removeEventListener("speedUp",this.speedUp,this)},t.prototype.update=function(e){this.move&&this.dropDownUpdate(e),this.coin_start&&(this.coin_dt+=e,this.coin_dt>=this.coin_timer&&(this.coin_dt=0,this.coinLabel.string="+"+r.default.showUnits(r.default.multipy(this.coin,this.coin_timer)),this.coinAni.play()))},__decorate([l(cc.Node)],t.prototype,"flyNode",void 0),__decorate([l(cc.Node)],t.prototype,"staticNode",void 0),__decorate([l(cc.Node)],t.prototype,"skeNode",void 0),__decorate([l(cc.Label)],t.prototype,"coinLabel",void 0),__decorate([l(cc.Animation)],t.prototype,"coinAni",void 0),t=__decorate([a],t)}(cc.Component);i.default=h,cc._RF.pop()},{"./config/DataConfig":"DataConfig","./config/ResConfig":"ResConfig","./utils/EventManager":"EventManager","./utils/MathUtil":"MathUtil"}],scrollViewCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"103f9tuhjpM+q3hOOUWnf3e","scrollViewCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,n=o.ccclass,s=o.property,r=e("./config/ResConfig"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.item=null,t.content=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e){var t=this;r.default.list.forEach(function(i,o){var n=cc.instantiate(t.item);n.parent=t.content;var s={maxLv:e,lv:i,id:o};n.getComponent("scrollViewItemCtrl").render(s,o)}),this.node.getComponent(cc.ScrollView).scrollToLeft()},__decorate([s(cc.Prefab)],t.prototype,"item",void 0),__decorate([s(cc.Node)],t.prototype,"content",void 0),t=__decorate([n],t)}(cc.Component);i.default=c,cc._RF.pop()},{"./config/ResConfig":"ResConfig"}],scrollViewItemCtrl:[function(e,t,i){"use strict";cc._RF.push(t,"8a395IUIRJH274J/6sMpe6r","scrollViewItemCtrl"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./config/ResConfig"),n=e("./config/DataConfig"),s=e("./utils/EventManager"),r=e("./utils/MathUtil"),c=cc._decorator,a=c.ccclass,l=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.priceTxt=null,t.bg=null,t.img=null,t.ske=null,t.state=[],t.canInfo=null,t.cannotInfo=null,t.canBuy_lv_diff=4,t.isCanBuy=!1,t.data=null,t.price=null,t}return __extends(t,e),t.prototype.start=function(){s.default.addEventListener("levelUp",this.levelUp,this)},t.prototype.getMaxLv=function(){return n.default.composeData.maxLv},t.prototype.render=function(e,t){var i=this;this.data=e,this.data.maxLv=this.getMaxLv(),this.label.string=e.lv,this.switchIsCanBuy();var n=this.ske;cc.loader.loadRes(o.default.dragonBones+e.lv+"/ske",dragonBones.DragonBonesAsset,function(s,r){n.dragonAsset=r,cc.loader.loadRes(o.default.dragonBones+e.lv+"/tex",dragonBones.DragonBonesAtlasAsset,function(e,o){n.dragonAtlasAsset=o,n.armatureName="Armature",i.scheduleOnce(function(){n.playAnimation("dance",-1)},.33*t)})})},t.prototype.levelUp=function(e){this.data.maxLv=e,this.switchIsCanBuy()},t.prototype.switchIsCanBuy=function(){var e,t=this.data,i=n.default.composeConfig.getPrice(t.lv,n.default.composeData.buyTimes[t.lv]);this.price=i,this.priceTxt.string=r.default.showUnits(i)+"\r\n\u8d2d\u4e70\u5408\u4f53",this.isCanBuy=!1,t.maxLv>=t.lv?(e=this.state[0],this.isCanBuy=!0):t.lv-t.maxLv<=this.canBuy_lv_diff?(e=this.state[0],this.isCanBuy=!0):(e=this.state[1],this.cannotInfo.getChildByName("txt").getComponent(cc.Label).string=t.lv-this.canBuy_lv_diff+"\u7ea7\u53ef\u4e70"),this.bg.spriteFrame=e,this.canInfo.active=this.isCanBuy,this.cannotInfo.active=!this.isCanBuy},t.prototype.onTap=function(){this.isCanBuy?r.default.GreaterThan(this.price,n.default.composeData.coins)?console.error("\u91d1\u5e01\u4e0d\u8db3"):s.default.dispatchEvent("buyPeople",this.data.lv,this.price,this):console.error("\u4e0d\u53ef\u8d2d\u4e70")},t.prototype.buySuccess=function(){console.log("\u8d2d\u4e70\u6210\u529f"),this.switchIsCanBuy()},t.prototype.onDestroy=function(){s.default.removeEventListener("levelUp",this.levelUp,this)},__decorate([l(cc.Label)],t.prototype,"label",void 0),__decorate([l(cc.Label)],t.prototype,"priceTxt",void 0),__decorate([l(cc.Sprite)],t.prototype,"bg",void 0),__decorate([l(cc.Sprite)],t.prototype,"img",void 0),__decorate([l(dragonBones.ArmatureDisplay)],t.prototype,"ske",void 0),__decorate([l([cc.SpriteFrame])],t.prototype,"state",void 0),__decorate([l(cc.Node)],t.prototype,"canInfo",void 0),__decorate([l(cc.Node)],t.prototype,"cannotInfo",void 0),t=__decorate([a],t)}(cc.Component);i.default=h,cc._RF.pop()},{"./config/DataConfig":"DataConfig","./config/ResConfig":"ResConfig","./utils/EventManager":"EventManager","./utils/MathUtil":"MathUtil"}]},{},["MainCtrl","ScrollViewBetter","cloudCtrl","composeViewCtrl","DataConfig","ResConfig","grassCtrl","peopleCtrl","scrollViewCtrl","scrollViewItemCtrl","BackgroundAdapter","ContentAdapter","EventManager","MathUtil","bignumber.min"]);